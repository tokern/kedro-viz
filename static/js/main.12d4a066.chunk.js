/*! For license information please see main.12d4a066.chunk.js.LICENSE.txt */
(this["webpackJsonp@quantumblack/kedro-viz"]=this["webpackJsonp@quantumblack/kedro-viz"]||[]).push([[0],{251:function(e,t,n){},269:function(e,t,n){e.exports=n.p+"static/media/brodyquest.6259cc84.mp3"},270:function(e,t,n){e.exports=n.p+"static/media/easter-egg.e702bd5f.png"},272:function(e){e.exports=JSON.parse('{"edges":[{"source":"e4951252","target":"443cf06a"},{"source":"c38d4c6a","target":"443cf06a"},{"source":"f1f1425b","target":"443cf06a"},{"source":"9d989e8d","target":"443cf06a"},{"source":"443cf06a","target":"6525f2e6"},{"source":"443cf06a","target":"091b5035"},{"source":"9d989e8d","target":"f42dab68"},{"source":"85c4cf64","target":"f42dab68"},{"source":"0ae9e4de","target":"f42dab68"},{"source":"09f5edeb","target":"f42dab68"},{"source":"f42dab68","target":"2cd4ba93"},{"source":"f42dab68","target":"fac8f1a3"},{"source":"2cd4ba93","target":"e27376a9"},{"source":"6525f2e6","target":"e27376a9"},{"source":"e27376a9","target":"1769e230"}],"layers":["raw","feature","primary","model output"],"nodes":[{"full_name":"salmon","id":"443cf06a","name":"salmon","pipelines":["de","__default__"],"tags":["small"],"type":"task"},{"full_name":"shark","id":"f42dab68","name":"shark","pipelines":["de","__default__"],"tags":["large","medium"],"type":"task"},{"full_name":"bear","id":"09f5edeb","layer":"raw","name":"Bear","pipelines":["de","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"cat","id":"9d989e8d","layer":"raw","name":"Cat","pipelines":["de","__default__"],"tags":["large","medium","small"],"type":"data"},{"full_name":"dog","id":"e4951252","layer":null,"name":"Dog","pipelines":["de","__default__"],"tags":["small"],"type":"data"},{"full_name":"elephant","id":"0ae9e4de","layer":"raw","name":"Elephant","pipelines":["de","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"giraffe","id":"fac8f1a3","layer":"model output","name":"Giraffe","pipelines":["de","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"horse","id":"091b5035","layer":"model output","name":"Horse","pipelines":["de","__default__"],"tags":["small"],"type":"data"},{"full_name":"parameters","id":"f1f1425b","layer":null,"name":"Parameters","pipelines":["de","__default__"],"tags":["small"],"type":"parameters"},{"full_name":"params:rabbit","id":"c38d4c6a","layer":null,"name":"Params:rabbit","pipelines":["de","__default__"],"tags":["small"],"type":"parameters"},{"full_name":"pig","id":"2cd4ba93","layer":"feature","name":"Pig","pipelines":["de","ds","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"sheep","id":"6525f2e6","layer":"primary","name":"Sheep","pipelines":["de","ds","__default__"],"tags":["small"],"type":"data"},{"full_name":"weasel","id":"85c4cf64","layer":"raw","name":"Weasel","pipelines":["de","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"trout","id":"e27376a9","name":"trout","pipelines":["ds","__default__"],"tags":[],"type":"task"},{"full_name":"whale","id":"1769e230","layer":"model output","name":"Whale","pipelines":["ds","__default__"],"tags":[],"type":"data"}],"pipelines":[{"id":"de","name":"De"},{"id":"ds","name":"Ds"},{"id":"__default__","name":"Default"},{"id":"empty","name":"Empty"}],"selected_pipeline":"__default__","tags":[{"id":"large","name":"Large"},{"id":"medium","name":"Medium"},{"id":"small","name":"Small"}]}')},273:function(e){e.exports=JSON.parse('{"selected_pipeline":"__default__","pipelines":[{"id":"__default__","name":"Default"},{"id":"de","name":"Data engineering"},{"id":"ds","name":"Data science"}],"layers":["Raw","Intermediate","Primary","Feature","Model Input","Models","Model Output","Reporting"],"edges":[{"source":"33920f3a","target":"06c33e94"},{"source":"06c33e94","target":"105160a0"},{"source":"814ef273","target":"0b7e1ac6"},{"source":"0b7e1ac6","target":"389b5286"},{"source":"58450007","target":"22ea294c"},{"source":"22ea294c","target":"bcb40508"},{"source":"105160a0","target":"f1a163c4"},{"source":"f1a163c4","target":"e44a096d"},{"source":"389b5286","target":"b2f97396"},{"source":"b2f97396","target":"8c1dcc36"},{"source":"bcb40508","target":"27bb9dc7"},{"source":"27bb9dc7","target":"13a964bf"},{"source":"842a3580","target":"fb5bd01d"},{"source":"e44a096d","target":"fb5bd01d"},{"source":"8c1dcc36","target":"fb5bd01d"},{"source":"13a964bf","target":"fb5bd01d"},{"source":"fb5bd01d","target":"55bd1af4"},{"source":"842a3580","target":"d52422da"},{"source":"e44a096d","target":"d52422da"},{"source":"8c1dcc36","target":"d52422da"},{"source":"13a964bf","target":"d52422da"},{"source":"d52422da","target":"442c2c34"},{"source":"181c2b7c","target":"dcbb9652"},{"source":"057ade39","target":"dcbb9652"},{"source":"dcbb9652","target":"7eb64be0"},{"source":"181c2b7c","target":"c4cff5d0"},{"source":"42e79d42","target":"c4cff5d0"},{"source":"c4cff5d0","target":"842a3580"},{"source":"7eb64be0","target":"95cfc42d"},{"source":"1b3afcba","target":"95cfc42d"},{"source":"55bd1af4","target":"95cfc42d"},{"source":"95cfc42d","target":"8770a38e"},{"source":"95cfc42d","target":"1dafa5fb"},{"source":"442c2c34","target":"ccbee9c5"},{"source":"3a60b3a4","target":"ccbee9c5"},{"source":"ccbee9c5","target":"fb4f64bd"},{"source":"ccbee9c5","target":"f4f3a276"},{"source":"1dafa5fb","target":"394244dd"},{"source":"55bd1af4","target":"394244dd"},{"source":"394244dd","target":"792a14f6"},{"source":"f4f3a276","target":"67257e84"},{"source":"442c2c34","target":"67257e84"},{"source":"67257e84","target":"9bd2dc3d"},{"source":"1dafa5fb","target":"f6f50e64"},{"source":"dff067eb","target":"f6f50e64"},{"source":"55bd1af4","target":"f6f50e64"},{"source":"f6f50e64","target":"92f58611"},{"source":"dff067eb","target":"e061482b"},{"source":"f4f3a276","target":"e061482b"},{"source":"442c2c34","target":"e061482b"},{"source":"e061482b","target":"b2a3a8e5"},{"source":"792a14f6","target":"53b05b01"},{"source":"8770a38e","target":"53b05b01"},{"source":"fb4f64bd","target":"6d8d326d"},{"source":"9bd2dc3d","target":"6d8d326d"},{"source":"dff067eb","target":"45bda5fd"},{"source":"9aeb6881","target":"45bda5fd"},{"source":"92f58611","target":"45bda5fd"},{"source":"45bda5fd","target":"90713d4f"},{"source":"dff067eb","target":"211c92c3"},{"source":"92f58611","target":"211c92c3"},{"source":"211c92c3","target":"4704ff18"},{"source":"dff067eb","target":"c17b9614"},{"source":"4704ff18","target":"c17b9614"},{"source":"c17b9614","target":"ccd3d45b"},{"source":"90713d4f","target":"90461ea7"},{"source":"ccd3d45b","target":"90461ea7"},{"source":"9bd2dc3d","target":"90461ea7"},{"source":"792a14f6","target":"90461ea7"},{"source":"4704ff18","target":"90461ea7"},{"source":"90461ea7","target":"3e3b263a"},{"source":"90461ea7","target":"f3e15708"},{"source":"90461ea7","target":"83ebce11"},{"source":"90461ea7","target":"a72d7024"},{"source":"90461ea7","target":"8dbed427"}],"nodes":[{"full_name":"load_raw_interaction_data","id":"06c33e94","name":"Load Raw Interaction Data","tags":["data_engineering","preprocessing"],"layer":"Raw","pipelines":["__default__","ds"],"type":"task"},{"full_name":"load_raw_country_data","id":"0b7e1ac6","name":"Load Raw Country Data","tags":["data_engineering","preprocessing"],"layer":"Raw","pipelines":["__default__","ds"],"type":"task"},{"full_name":"load_raw_shopper_spend_data","id":"22ea294c","name":"Load Raw Shopper Spend Data","tags":["data_engineering","preprocessing"],"layer":"Raw","pipelines":["__default__","ds"],"type":"task"},{"full_name":"preprocess_intermediate_interaction_data","id":"f1a163c4","name":"Preprocess Intermediate Interaction Data","tags":["data_engineering","preprocessing"],"layer":"Intermediate","pipelines":["__default__","ds"],"type":"task"},{"full_name":"preprocess_intermediate_country_data","id":"b2f97396","name":"Preprocess Intermediate Country Data","tags":["data_engineering","preprocessing"],"layer":"Intermediate","pipelines":["__default__","ds"],"type":"task"},{"full_name":"preprocess_intermediate_shopper_spend_data","id":"27bb9dc7","name":"Preprocess Intermediate Shopper Spend Data","tags":["data_engineering","preprocessing"],"layer":"Intermediate","pipelines":["__default__","ds"],"type":"task"},{"full_name":"create_shopper_spend_features","id":"fb5bd01d","name":"Create Shopper Spend Features","tags":["feature_engineering","data_engineering"],"layer":"Feature","pipelines":["__default__","ds"],"type":"task"},{"full_name":"create_shopper_churn_features","id":"d52422da","name":"Create Shopper Churn Features","tags":["feature_engineering","data_engineering"],"layer":"Feature","pipelines":["__default__","ds"],"type":"task"},{"full_name":"prepare_vendor_input","id":"dcbb9652","name":"Prepare Vendor Input","tags":["feature_engineering","data_engineering"],"layer":"Intermediate","pipelines":["__default__","ds"],"type":"task"},{"full_name":"prepare_crm_input","id":"c4cff5d0","name":"Prepare CRM Input","tags":["feature_engineering","data_engineering"],"layer":"Intermediate","pipelines":["__default__","ds"],"type":"task"},{"full_name":"predictive_sales_model","id":"95cfc42d","name":"Predictive Sales Model","tags":["model_training","data_science"],"layer":"Model Input","pipelines":["__default__","ds"],"type":"task"},{"full_name":"predictive_engagement_model","id":"ccbee9c5","name":"Predictive Engagement Model","tags":["model_training","data_science"],"layer":"Model Input","pipelines":["__default__","ds"],"type":"task"},{"full_name":"sales_model_explainable_ai","id":"394244dd","name":"Sales Model Explainable AI","tags":["model_explanation","data_science"],"layer":"Model Input","pipelines":["__default__","ds"],"type":"task"},{"full_name":"engagement_model_explainable_ai","id":"67257e84","name":"Engagement Model Explainable AI","tags":["model_explanation","data_science"],"layer":"Models","pipelines":["__default__","ds"],"type":"task"},{"full_name":"perform_digital_analysis","id":"f6f50e64","name":"Perform Digital Analysis","tags":["model_training","data_science"],"layer":"Model Input","pipelines":["__default__","ds"],"type":"task"},{"full_name":"engagement_recommendation_engine","id":"e061482b","name":"Engagement Recommendation Engine","tags":["model_training","data_science"],"layer":"Models","pipelines":["__default__","ds"],"type":"task"},{"full_name":"sales_model_performance_monitoring","id":"53b05b01","name":"Sales Model Performance Monitoring","tags":["model_performance_monitoring","data_science"],"layer":"Reporting","pipelines":["__default__","ds"],"type":"task"},{"full_name":"engagement_model_performance_monitoring","id":"6d8d326d","name":"Engagement Model Performance Monitoring","tags":["model_performance_monitoring","data_science"],"layer":"Reporting","pipelines":["__default__","ds"],"type":"task"},{"full_name":"multi-channel_optimisation","id":"45bda5fd","name":"Multi-Channel Optimisation","tags":["optimisation","data_science"],"layer":"Models","pipelines":["__default__","ds"],"type":"task"},{"full_name":"content_optimisation","id":"211c92c3","name":"Content Optimisation","tags":["optimisation","data_science"],"layer":"Models","pipelines":["__default__","ds"],"type":"task"},{"full_name":"segment_journeys","id":"c17b9614","name":"Segment Journeys","tags":["optimisation","data_science"],"layer":"Model Output","pipelines":["__default__","ds"],"type":"task"},{"full_name":"generate_dashboard_inputs","id":"90461ea7","name":"Generate Dashboard Inputs","tags":["reporting","data_science"],"layer":"Reporting","pipelines":["__default__","ds"],"type":"task"},{"full_name":"interaction_raw","id":"33920f3a","name":"Interaction Raw","tags":["data_engineering","preprocessing"],"layer":"Raw","pipelines":["__default__","ds"],"type":"data"},{"full_name":"interaction_intermediate","id":"105160a0","name":"Interaction Intermediate","tags":["data_engineering","preprocessing"],"layer":"Intermediate","pipelines":["__default__","ds"],"type":"data"},{"full_name":"country_raw","id":"814ef273","name":"Country Raw","tags":["data_engineering","preprocessing"],"layer":"Raw","pipelines":["__default__","ds"],"type":"data"},{"full_name":"country_intermediate","id":"389b5286","name":"Country Intermediate","tags":["data_engineering","preprocessing"],"layer":"Intermediate","pipelines":["__default__","ds"],"type":"data"},{"full_name":"shopper_spend_raw","id":"58450007","name":"Shopper Spend Raw","tags":["data_engineering","preprocessing"],"layer":"Raw","pipelines":["__default__","ds"],"type":"data"},{"full_name":"shopper_spend_intermediate","id":"bcb40508","name":"Shopper Spend Intermediate","tags":["data_engineering","preprocessing"],"layer":"Intermediate","pipelines":["__default__","ds"],"type":"data"},{"full_name":"interaction_primary","id":"e44a096d","name":"Interaction Primary","tags":["feature_engineering","data_engineering","preprocessing"],"layer":"Primary","pipelines":["__default__","ds"],"type":"data"},{"full_name":"country_primary","id":"8c1dcc36","name":"Country Primary","tags":["feature_engineering","data_engineering","preprocessing"],"layer":"Primary","pipelines":["__default__","ds"],"type":"data"},{"full_name":"shopper_spend_primary","id":"13a964bf","name":"Shopper Spend Primary","tags":["feature_engineering","data_engineering","preprocessing"],"layer":"Primary","pipelines":["__default__","ds"],"type":"data"},{"full_name":"crm_predictions","id":"842a3580","name":"CRM Predictions","tags":["feature_engineering","data_engineering"],"layer":"Primary","pipelines":["__default__","ds"],"type":"data"},{"full_name":"shopper_spend_features","id":"55bd1af4","name":"Shopper Spend Features","tags":["data_science","model_training","model_explanation","feature_engineering","data_engineering"],"layer":"Feature","pipelines":["__default__","de"],"type":"data"},{"full_name":"shopper_churn_features","id":"442c2c34","name":"Shopper Churn Features","tags":["data_science","model_training","model_explanation","feature_engineering","data_engineering"],"layer":"Feature","pipelines":["__default__","de"],"type":"data"},{"full_name":"vendor_main","id":"181c2b7c","name":"Vendor Main","tags":["feature_engineering","data_engineering"],"layer":"Raw","pipelines":["__default__","de"],"type":"data"},{"full_name":"salesforce_crm","id":"057ade39","name":"Salesforce CRM","tags":["feature_engineering","data_engineering"],"layer":"Raw","pipelines":["__default__","de"],"type":"data"},{"full_name":"vendor_predictions","id":"7eb64be0","name":"Vendor Predictions","tags":["feature_engineering","data_engineering","data_science","model_training"],"layer":"Primary","pipelines":["__default__","de"],"type":"data"},{"full_name":"salesforce_accounts","id":"42e79d42","name":"Salesforce Accounts","tags":["feature_engineering","data_engineering"],"layer":"Raw","pipelines":["__default__","de"],"type":"data"},{"full_name":"params:_sales_model","id":"1b3afcba","name":"params: Sales Model","tags":["data_science","model_training"],"layer":"Model Input","pipelines":["__default__","de"],"type":"parameters"},{"full_name":"sales_validation_results","id":"8770a38e","name":"Sales Validation Results","tags":["model_performance_monitoring","data_science","model_training"],"layer":"Model Output","pipelines":["__default__","de"],"type":"data"},{"full_name":"sales_trained_model","id":"1dafa5fb","name":"Sales Trained Model","tags":["model_explanation","data_science","model_training"],"layer":"Model Input","pipelines":["__default__","de"],"type":"data"},{"full_name":"params:_engagement_model","id":"3a60b3a4","name":"params: Engagement Model","tags":["data_science","model_training"],"layer":"Model Input","pipelines":["__default__","de"],"type":"parameters"},{"full_name":"engagement_validation_results","id":"fb4f64bd","name":"Engagement Validation Results","tags":["model_performance_monitoring","data_science","model_training"],"layer":"Model Output","pipelines":["__default__","de"],"type":"data"},{"full_name":"engagement_trained_model","id":"f4f3a276","name":"Engagement Trained Model","tags":["model_explanation","data_science","model_training"],"layer":"Models","pipelines":["__default__","de"],"type":"data"},{"full_name":"sales_model_explanations","id":"792a14f6","name":"Sales Model Explanations","tags":["model_explanation","data_science","model_performance_monitoring","reporting"],"layer":"Model Output","pipelines":["__default__","de"],"type":"data"},{"full_name":"engagement_model_explanations","id":"9bd2dc3d","name":"Engagement Model Explanations","tags":["model_explanation","data_science","model_performance_monitoring","reporting"],"layer":"Model Output","pipelines":["__default__","de"],"type":"data"},{"full_name":"params:_optimisation","id":"dff067eb","name":"params: Optimisation","tags":["data_science","model_training","optimisation"],"layer":"Model Input","pipelines":["__default__","de"],"type":"parameters"},{"full_name":"digital_analysis","id":"92f58611","name":"Digital Analysis","tags":["data_science","model_training","optimisation"],"layer":"Model Input","pipelines":["__default__","de"],"type":"data"},{"full_name":"engagement_recommendations","id":"b2a3a8e5","name":"Engagement Recommendations","tags":["data_science","model_training"],"layer":"Model Output","pipelines":["__default__","de"],"type":"data"},{"full_name":"action_cost_table","id":"9aeb6881","name":"Action Cost Table","tags":["data_science","optimisation"],"layer":"Raw","pipelines":["__default__","de"],"type":"data"},{"full_name":"multi-channel_resolutions","id":"90713d4f","name":"Multi-Channel Resolutions","tags":["reporting","data_science","optimisation"],"layer":"Model Output","pipelines":["__default__","de"],"type":"data"},{"full_name":"content_resolutions","id":"4704ff18","name":"Content Resolutions","tags":["reporting","data_science","optimisation"],"layer":"Model Output","pipelines":["__default__","de"],"type":"data"},{"full_name":"segment_journeys_allocations","id":"ccd3d45b","name":"Segment Journeys Allocations","tags":["reporting","data_science","optimisation"],"layer":"Model Output","pipelines":["__default__","de"],"type":"data"},{"full_name":"upselling_readiness_dashboard_input","id":"3e3b263a","name":"Upselling Readiness Dashboard Input","tags":["reporting","data_science"],"layer":"Reporting","pipelines":["__default__","de"],"type":"data"},{"full_name":"lead_scoring_dashboard_input","id":"f3e15708","name":"Lead Scoring Dashboard Input","tags":["reporting","data_science"],"layer":"Reporting","pipelines":["__default__","de"],"type":"data"},{"full_name":"lifetime_value_prediction_dashboard_input","id":"83ebce11","name":"Lifetime Value Prediction Dashboard Input","tags":["reporting","data_science"],"layer":"Reporting","pipelines":["__default__","de"],"type":"data"},{"full_name":"digital_sales_dashboard_input","id":"a72d7024","name":"Digital Sales Dashboard Input","tags":["reporting","data_science"],"layer":"Reporting","pipelines":["__default__","de"],"type":"data"},{"full_name":"vendor_sales_dashboard_input","id":"8dbed427","name":"Vendor Sales Dashboard Input","tags":["reporting","data_science"],"layer":"Reporting","pipelines":["__default__","de"],"type":"data"}],"tags":[{"id":"model_performance_monitoring","name":"Model Performance Monitoring"},{"id":"data_science","name":"Data Science"},{"id":"reporting","name":"Reporting"},{"id":"model_training","name":"Model Training"},{"id":"preprocessing","name":"Preprocessing"},{"id":"optimisation","name":"Optimisation"},{"id":"model_explanation","name":"Model Explanation"},{"id":"feature_engineering","name":"Feature Engineering"},{"id":"data_engineering","name":"Data Engineering"}]}')},275:function(e,t,n){e.exports=n(664)},460:function(e,t,n){var r=n(461),o=["graphNew","graphDagre"];e.exports=function(){var e=new Worker(URL.createObjectURL(new Blob(['/*! For license information please see a67b65779e12e20ba57c.worker.js.LICENSE.txt */\n!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=290)}([function(t,e,n){var r;try{r={cloneDeep:n(230),constant:n(53),defaults:n(231),each:n(80),filter:n(83),find:n(232),flatten:n(110),forEach:n(81),forIn:n(237),has:n(94),isUndefined:n(95),last:n(238),map:n(96),mapValues:n(239),max:n(240),merge:n(242),min:n(248),minBy:n(249),now:n(250),pick:n(251),range:n(256),reduce:n(98),sortBy:n(259),uniqueId:n(264),values:n(103),zipObject:n(265)}}catch(o){}r||(r=window._),t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";var r=n(0),o=n(5).Graph;function i(t,e,n,o){var i;do{i=r.uniqueId(o)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:i,simplify:function(t){var e=(new o).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},o=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,o=t.x,i=t.y,a=e.x-o,u=e.y-i,s=t.width/2,c=t.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*s>Math.abs(a)*c?(u<0&&(c=-c),n=c*a/u,r=c):(a<0&&(s=-s),n=s,r=s*u/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var o=t.node(n),i=o.rank;r.isUndefined(i)||(e[i][o.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var o=t.node(n);r.has(o,"rank")&&(o.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var o=t.node(r).rank-e;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%i!==0?--o:o&&r.forEach(e,(function(e){t.node(e).rank+=o}))}))},addBorderNode:function(t,e,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(t,"border",o,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e,n){var r;try{r={clone:n(117),constant:n(53),each:n(80),filter:n(83),has:n(94),isArray:n(1),isEmpty:n(194),isFunction:n(20),isUndefined:n(95),keys:n(10),map:n(96),reduce:n(98),size:n(197),transform:n(203),union:n(204),values:n(103)}}catch(o){}r||(r=window._),t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r;try{r=n(115)}catch(o){}r||(r=window.graphlib),t.exports=r},function(t,e,n){var r=n(63),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(20),o=n(47);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(174),o=n(184),i=n(13),a=n(1),u=n(191);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):u(t)}},function(t,e,n){var r=n(66),o=n(49),i=n(8);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){var r=n(128),o=n(134);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(15),o=n(130),i=n(131),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(6).Symbol;t.exports=r},function(t,e,n){(function(t){var r=n(6),o=n(150),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s}).call(this,n(46)(t))},function(t,e,n){var r=n(66),o=n(154),i=n(8);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(159),o=n(43),i=n(160),a=n(75),u=n(161),s=n(12),c=n(64),f=c(r),d=c(o),h=c(i),p=c(a),l=c(u),v=s;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var e=s(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case f:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case l:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(12),o=n(7);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(12),o=n(4);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(30),o=n(31);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=i?i(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?o(n,c,f):r(n,c,f)}return n}},function(t,e,n){var r=n(149),o=n(7),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e,n){var r=n(151),o=n(33),i=n(48),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(19);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(26),o=n(123),i=n(124),a=n(125),u=n(126),s=n(127);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(118),o=n(119),i=n(120),a=n(121),u=n(122);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,n){var r=n(14);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(11)(Object,"create");t.exports=r},function(t,e,n){var r=n(143);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(31),o=n(14),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(65);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){var n=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(67)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(54),o=n(172)(r);t.exports=o},function(t,e,n){var r=n(1),o=n(58),i=n(186),a=n(90);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(13),o=n(99),i=n(100);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(14),o=n(8),i=n(32),a=n(4);t.exports=function(t,e,n){if(!a(n))return!1;var u=typeof e;return!!("number"==u?o(n)&&i(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";var r=n(0);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(o){var i=t.node(o);if(r.has(e,o))return i.rank;e[o]=!0;var a=r.min(r.map(t.outEdges(o),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){"use strict";var r=n(3);t.exports=o;function o(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,e){t[e]?t[e]++:t[e]=1}function a(t,e){--t[e]||delete t[e]}function u(t,e,n,o){var i=""+e,a=""+n;if(!t&&i>a){var u=i;i=a,a=u}return i+"\\x01"+a+"\\x01"+(r.isUndefined(o)?"\\0":o)}function s(t,e,n,r){var o=""+e,i=""+n;if(!t&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return r&&(u.name=r),u}function c(t,e){return u(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var n=arguments,o=this;return r.each(t,(function(t){n.length>1?o.setNode(t,e):o.setNode(t)})),this},o.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\\0",this._children[t]={},this._children["\\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return r.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e="\\0";else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\\0"!==e)return e}},o.prototype.children=function(t){if(r.isUndefined(t)&&(t="\\0"),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if("\\0"===t)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var o={};return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,function t(r){var i=n.parent(r);return void 0===i||e.hasNode(i)?(o[r]=i,i):i in o?o[i]:t(i)}(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var n=this,o=arguments;return r.reduce(t,(function(t,r){return o.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},o.prototype.setEdge=function(){var t,e,n,o,a=!1,c=arguments[0];"object"===typeof c&&null!==c&&"v"in c?(t=c.v,e=c.w,n=c.name,2===arguments.length&&(o=arguments[1],a=!0)):(t=c,e=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],a=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var f=u(this._isDirected,t,e,n);if(r.has(this._edgeLabels,f))return a&&(this._edgeLabels[f]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[f]=a?o:this._defaultEdgeLabelFn(t,e,n);var d=s(this._isDirected,t,e,n);return t=d.v,e=d.w,Object.freeze(d),this._edgeObjs[f]=d,i(this._preds[e],t),i(this._sucs[t],e),this._in[e][f]=d,this._out[t][f]=d,this._edgeCount++,this},o.prototype.edge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(t,e,n){var o=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return r.has(this._edgeLabels,o)},o.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,t,e,n),o=this._edgeObjs[r];return o&&(t=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[e],t),a(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.v===e})):o}},o.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.w===e})):o}},o.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var r=n(11)(n(6),"Map");t.exports=r},function(t,e,n){var r=n(135),o=n(142),i=n(144),a=n(145),u=n(146);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){var r=n(63),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=u}).call(this,n(46)(t))},function(t,e,n){var r=n(34),o=n(152),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(70),o=n(71),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(76);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(55),o=n(10);t.exports=function(t,e){return t&&r(t,e,o)}},function(t,e,n){var r=n(171)();t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(37),o=n(24);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(1),o=n(19),i=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(51),o=n(205);t.exports=function t(e,n,i,a,u){var s=-1,c=e.length;for(i||(i=o),u||(u=[]);++s<c;){var f=e[s];n>0&&i(f)?n>1?t(f,n-1,i,a,u):r(u,f):a||(u[u.length]=f)}return u}},function(t,e,n){var r=n(19);t.exports=function(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=e(a);if(null!=u&&(void 0===s?u===u&&!r(u):n(u,s)))var s=u,c=a}return c}},function(t,e,n){t.exports={graphlib:n(5),layout:n(229),debug:n(288),util:{time:n(2).time,notime:n(2).notime},version:n(289)}},function(t,e,n){var r=n(25),o=n(45),i=n(30),a=n(147),u=n(153),s=n(68),c=n(69),f=n(156),d=n(157),h=n(73),p=n(158),l=n(18),v=n(162),y=n(163),g=n(78),b=n(1),m=n(16),x=n(167),_=n(4),w=n(169),E=n(10),j={};j["[object Arguments]"]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j["[object Object]"]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j["[object Function]"]=j["[object WeakMap]"]=!1,t.exports=function t(e,n,k,N,M,S){var O,A=1&n,I=2&n,C=4&n;if(k&&(O=M?k(e,N,M,S):k(e)),void 0!==O)return O;if(!_(e))return e;var P=b(e);if(P){if(O=v(e),!A)return c(e,O)}else{var z=l(e),L="[object Function]"==z||"[object GeneratorFunction]"==z;if(m(e))return s(e,A);if("[object Object]"==z||"[object Arguments]"==z||L&&!M){if(O=I||L?{}:g(e),!A)return I?d(e,u(O,e)):f(e,a(O,e))}else{if(!j[z])return M?e:{};O=y(e,z,A)}}S||(S=new r);var F=S.get(e);if(F)return F;S.set(e,O),w(e)?e.forEach((function(r){O.add(t(r,n,k,r,e,S))})):x(e)&&e.forEach((function(r,o){O.set(o,t(r,n,k,o,e,S))}));var R=C?I?p:h:I?keysIn:E,D=P?void 0:R(e);return o(D||e,(function(r,o){D&&(r=e[o=r]),i(O,o,t(r,n,k,o,e,S))})),O}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(129))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(11),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},function(t,e,n){var r=n(148),o=n(22),i=n(1),a=n(16),u=n(32),s=n(23),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),f=!n&&o(t),d=!n&&!f&&a(t),h=!n&&!f&&!d&&s(t),p=n||f||d||h,l=p?r(t.length,String):[],v=l.length;for(var y in t)!e&&!c.call(t,y)||p&&("length"==y||d&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||l.push(y);return l}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){(function(t){var r=n(6),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(46)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(51),o=n(35),i=n(50),a=n(71),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=u},function(t,e,n){var r=n(74),o=n(50),i=n(10);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(51),o=n(1);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(11)(n(6),"Set");t.exports=r},function(t,e,n){var r=n(6).Uint8Array;t.exports=r},function(t,e,n){var r=n(52);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(79),o=n(35),i=n(34);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(4),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){t.exports=n(81)},function(t,e,n){var r=n(45),o=n(36),i=n(82),a=n(1);t.exports=function(t,e){return(a(t)?r:o)(t,i(e))}},function(t,e,n){var r=n(13);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(70),o=n(173),i=n(9),a=n(1);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(176),o=n(7);t.exports=function t(e,n,i,a,u){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!==e&&n!==n:r(e,n,i,a,t,u))}},function(t,e,n){var r=n(86),o=n(179),i=n(87);t.exports=function(t,e,n,a,u,s){var c=1&n,f=t.length,d=e.length;if(f!=d&&!(c&&d>f))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var p=-1,l=!0,v=2&n?new r:void 0;for(s.set(t,e),s.set(e,t);++p<f;){var y=t[p],g=e[p];if(a)var b=c?a(g,y,p,e,t,s):a(y,g,p,t,e,s);if(void 0!==b){if(b)continue;l=!1;break}if(v){if(!o(e,(function(t,e){if(!i(v,e)&&(y===t||u(y,t,n,a,s)))return v.push(e)}))){l=!1;break}}else if(y!==g&&!u(y,g,n,a,s)){l=!1;break}}return s.delete(t),s.delete(e),l}},function(t,e,n){var r=n(44),o=n(177),i=n(178);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(4);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(189);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(190),o=n(92);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e,n){var r=n(37),o=n(22),i=n(1),a=n(32),u=n(47),s=n(24);t.exports=function(t,e,n){for(var c=-1,f=(e=r(e,t)).length,d=!1;++c<f;){var h=s(e[c]);if(!(d=null!=t&&n(t,h)))break;t=t[h]}return d||++c!=f?d:!!(f=null==t?0:t.length)&&u(f)&&a(h,f)&&(i(t)||o(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(193),o=n(92);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(38),o=n(9),i=n(97),a=n(1);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(36),o=n(8);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}},function(t,e,n){var r=n(195),o=n(36),i=n(9),a=n(196),u=n(1);t.exports=function(t,e,n){var s=u(t)?r:a,c=arguments.length<3;return s(t,i(e,4),n,c,o)}},function(t,e,n){var r=n(206),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(s),r(t,this,c)}}},function(t,e,n){var r=n(207),o=n(208)(r);t.exports=o},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,n){var r=n(8),o=n(7);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(217),o=n(10);t.exports=function(t){return null==t?[]:r(t,o(t))}},function(t,e,n){var r=n(3),o=n(105);t.exports=function(t,e,n,r){return function(t,e,n,r){var i,a,u={},s=new o,c=function(t){var e=t.v!==i?t.v:t.w,r=u[e],o=n(t),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,s.decrease(e,c))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;u[t]={distance:n},s.add(t,n)}));for(;s.size()>0&&(i=s.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return u}(t,String(e),n||i,r||function(e){return t.outEdges(e)})};var i=r.constant(1)},function(t,e,n){var r=n(3);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return r.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var o=this._arr,i=o.length;return n[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},o.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,o=t;n<e.length&&(o=e[n].priority<e[o].priority?n:o,r<e.length&&(o=e[r].priority<e[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,o=n[t],i=n[e];n[t]=i,n[e]=o,r[i.key]=t,r[o.key]=e}},function(t,e,n){var r=n(3);t.exports=function(t){var e=0,n=[],o={},i=[];return t.nodes().forEach((function(a){r.has(o,a)||function a(u){var s=o[u]={onStack:!0,lowlink:e,index:e++};if(n.push(u),t.successors(u).forEach((function(t){r.has(o,t)?o[t].onStack&&(s.lowlink=Math.min(s.lowlink,o[t].index)):(a(t),s.lowlink=Math.min(s.lowlink,o[t].lowlink))})),s.lowlink===s.index){var c,f=[];do{c=n.pop(),o[c].onStack=!1,f.push(c)}while(u!==c);i.push(f)}}(a)})),i}},function(t,e,n){var r=n(3);function o(t){var e={},n={},o=[];if(r.each(t.sinks(),(function a(u){if(r.has(n,u))throw new i;r.has(e,u)||(n[u]=!0,e[u]=!0,r.each(t.predecessors(u),a),delete n[u],o.push(u))})),r.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,e,n){var r=n(3);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,o,i,a,u){r.has(i,n)||(i[n]=!0,o||u.push(n),r.each(a(n),(function(n){t(e,n,o,i,a,u)})),o&&u.push(n))}(t,e,"post"===n,a,o,i)})),i}},function(t,e,n){var r=n(236);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},function(t,e,n){var r=n(59);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(31),o=n(14);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){"use strict";var r=n(0),o=n(5).Graph,i=n(41).slack;function a(t,e){return r.forEach(t.nodes(),(function n(o){r.forEach(e.nodeEdges(o),(function(r){var a=r.v,u=o===a?r.w:a;t.hasNode(u)||i(e,r)||(t.setNode(u,{}),t.setEdge(o,u,{}),n(u))}))})),t.nodeCount()}function u(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return i(e,n)}))}function s(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new o({directed:!1}),c=t.nodes()[0],f=t.nodeCount();r.setNode(c,{});for(;a(r,t)<f;)e=u(r,t),n=r.hasNode(e.v)?i(t,e):-i(t,e),s(r,t,n);return r}},function(t,e,n){var r=n(116);t.exports={Graph:r.Graph,json:n(219),alg:n(220),version:r.version}},function(t,e,n){t.exports={Graph:n(42),version:n(218)}},function(t,e,n){var r=n(62);t.exports=function(t){return r(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(27),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(27);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(27);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(27);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(26);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(26),o=n(43),i=n(44);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(20),o=n(132),i=n(4),a=n(64),u=/^\\[object .+?Constructor\\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,d=c.hasOwnProperty,h=RegExp("^"+f.call(d).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:u).test(a(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(15),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(s){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(133),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(6)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(136),o=n(26),i=n(43);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(137),o=n(138),i=n(139),a=n(140),u=n(141);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,n){var r=n(28);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(28),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(28),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(29);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(29);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(29);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(29);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(21),o=n(10);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(12),o=n(7);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(12),o=n(47),i=n(7),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(67)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(21),o=n(17);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(4),o=n(34),i=n(155),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(21),o=n(50);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(21),o=n(72);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(74),o=n(72),i=n(17);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(11)(n(6),"DataView");t.exports=r},function(t,e,n){var r=n(11)(n(6),"Promise");t.exports=r},function(t,e,n){var r=n(11)(n(6),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(52),o=n(164),i=n(165),a=n(166),u=n(77);t.exports=function(t,e,n){var s=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return i(t);case"[object Set]":return new s;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(52);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(15),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(168),o=n(33),i=n(48),a=i&&i.isMap,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(18),o=n(7);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(170),o=n(33),i=n(48),a=i&&i.isSet,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(18),o=n(7);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}},function(t,e,n){var r=n(8);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,u=Object(n);(e?a--:++a<i)&&!1!==o(u[a],a,u););return n}}},function(t,e,n){var r=n(36);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},function(t,e,n){var r=n(175),o=n(183),i=n(89);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(25),o=n(84);t.exports=function(t,e,n,i){var a=n.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=n[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var f=(c=n[a])[0],d=t[f],h=c[1];if(s&&c[2]){if(void 0===d&&!(f in t))return!1}else{var p=new r;if(i)var l=i(d,h,f,t,e,p);if(!(void 0===l?o(h,d,3,i,p):l))return!1}}return!0}},function(t,e,n){var r=n(25),o=n(85),i=n(180),a=n(182),u=n(18),s=n(1),c=n(16),f=n(23),d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,p,l,v){var y=s(t),g=s(e),b=y?"[object Array]":u(t),m=g?"[object Array]":u(e),x=(b="[object Arguments]"==b?d:b)==d,_=(m="[object Arguments]"==m?d:m)==d,w=b==m;if(w&&c(t)){if(!c(e))return!1;y=!0,x=!1}if(w&&!x)return v||(v=new r),y||f(t)?o(t,e,n,p,l,v):i(t,e,b,n,p,l,v);if(!(1&n)){var E=x&&h.call(t,"__wrapped__"),j=_&&h.call(e,"__wrapped__");if(E||j){var k=E?t.value():t,N=j?e.value():e;return v||(v=new r),l(k,N,n,p,v)}}return!!w&&(v||(v=new r),a(t,e,n,p,l,v))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(15),o=n(76),i=n(14),a=n(85),u=n(181),s=n(56),c=r?r.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,d,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=u;case"[object Set]":var l=1&r;if(p||(p=s),t.size!=e.size&&!l)return!1;var v=h.get(t);if(v)return v==e;r|=2,h.set(t,e);var y=a(p(t),p(e),r,c,d,h);return h.delete(t),y;case"[object Symbol]":if(f)return f.call(t)==f.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(73),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,u){var s=1&n,c=r(t),f=c.length;if(f!=r(e).length&&!s)return!1;for(var d=f;d--;){var h=c[d];if(!(s?h in e:o.call(e,h)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var l=!0;u.set(t,e),u.set(e,t);for(var v=s;++d<f;){var y=t[h=c[d]],g=e[h];if(i)var b=s?i(g,y,h,e,t,u):i(y,g,h,t,e,u);if(!(void 0===b?y===g||a(y,g,n,i,u):b)){l=!1;break}v||(v="constructor"==h)}if(l&&!v){var m=t.constructor,x=e.constructor;m==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x||(l=!1)}return u.delete(t),u.delete(e),l}},function(t,e,n){var r=n(88),o=n(10);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},function(t,e,n){var r=n(84),o=n(185),i=n(91),a=n(58),u=n(88),s=n(89),c=n(24);t.exports=function(t,e){return a(t)&&u(e)?s(c(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}},function(t,e,n){var r=n(57);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(187),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(188);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(44);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(15),o=n(38),i=n(1),a=n(19),u=r?r.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(93),o=n(192),i=n(58),a=n(24);t.exports=function(t){return i(t)?r(a(t)):o(t)}},function(t,e,n){var r=n(57);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(49),o=n(18),i=n(22),a=n(1),u=n(8),s=n(16),c=n(34),f=n(23),d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||f(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},function(t,e){t.exports=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},function(t,e){t.exports=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}},function(t,e,n){var r=n(49),o=n(18),i=n(8),a=n(198),u=n(199);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?u(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},function(t,e,n){var r=n(12),o=n(1),i=n(7);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(200),o=n(201),i=n(202);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var r=n(93)("length");t.exports=r},function(t,e){var n=RegExp("[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="[\\\\ud800-\\\\udfff]",r="[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]",o="\\\\ud83c[\\\\udffb-\\\\udfff]",i="[^\\\\ud800-\\\\udfff]",a="(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}",u="[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]",s="(?:"+r+"|"+o+")"+"?",c="[\\\\ufe0e\\\\ufe0f]?"+s+("(?:\\\\u200d(?:"+[i,a,u].join("|")+")[\\\\ufe0e\\\\ufe0f]?"+s+")*"),f="(?:"+[i+r+"?",r,a,u,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+f+c,"g");t.exports=function(t){for(var e=d.lastIndex=0;d.test(t);)++e;return e}},function(t,e,n){var r=n(45),o=n(79),i=n(54),a=n(9),u=n(35),s=n(1),c=n(16),f=n(20),d=n(4),h=n(23);t.exports=function(t,e,n){var p=s(t),l=p||c(t)||h(t);if(e=a(e,4),null==n){var v=t&&t.constructor;n=l?p?new v:[]:d(t)&&f(v)?o(u(t)):{}}return(l?r:i)(t,(function(t,r,o){return e(n,t,r,o)})),n}},function(t,e,n){var r=n(59),o=n(39),i=n(209),a=n(102),u=o((function(t){return i(r(t,1,a,!0))}));t.exports=u},function(t,e,n){var r=n(15),o=n(22),i=n(1),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(53),o=n(65),i=n(13),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(86),o=n(210),i=n(214),a=n(87),u=n(215),s=n(56);t.exports=function(t,e,n){var c=-1,f=o,d=t.length,h=!0,p=[],l=p;if(n)h=!1,f=i;else if(d>=200){var v=e?null:u(t);if(v)return s(v);h=!1,f=a,l=new r}else l=e?[]:p;t:for(;++c<d;){var y=t[c],g=e?e(y):y;if(y=n||0!==y?y:0,h&&g===g){for(var b=l.length;b--;)if(l[b]===g)continue t;e&&l.push(g),p.push(y)}else f(l,g,n)||(l!==p&&l.push(g),p.push(y))}return p}},function(t,e,n){var r=n(211);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(101),o=n(212),i=n(213);t.exports=function(t,e,n){return e===e?i(t,e,n):r(t,o,n)}},function(t,e){t.exports=function(t){return t!==t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(75),o=n(216),i=n(56),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(38);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e){t.exports="2.1.8"},function(t,e,n){var r=n(3),o=n(42);function i(t){return r.map(t.nodes(),(function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(n)||(o.value=n),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},function(t,e,n){t.exports={components:n(221),dijkstra:n(104),dijkstraAll:n(222),findCycles:n(223),floydWarshall:n(224),isAcyclic:n(225),postorder:n(226),preorder:n(227),prim:n(228),tarjan:n(106),topsort:n(107)}},function(t,e,n){var r=n(3);t.exports=function(t){var e,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,e.push(o),r.each(t.successors(o),i),r.each(t.predecessors(o),i))}return r.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},function(t,e,n){var r=n(104),o=n(3);t.exports=function(t,e,n){return o.transform(t.nodes(),(function(o,i){o[i]=r(t,i,e,n)}),{})}},function(t,e,n){var r=n(3),o=n(106);t.exports=function(t){return r.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,n){var r=n(3);t.exports=function(t,e,n){return function(t,e,n){var r={},o=t.nodes();return o.forEach((function(t){r[t]={},r[t][t]={distance:0},o.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var o=n.v===t?n.w:n.v,i=e(n);r[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=r[t];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[t],o=e[n],a=i[n],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),r}(t,e||o,n||function(e){return t.outEdges(e)})};var o=r.constant(1)},function(t,e,n){var r=n(107);t.exports=function(t){try{r(t)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},function(t,e,n){var r=n(108);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(108);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(3),o=n(42),i=n(105);t.exports=function(t,e){var n,a=new o,u={},s=new i;function c(t){var r=t.v===n?t.w:t.v,o=s.priority(r);if(void 0!==o){var i=e(t);i<o&&(u[r]=n,s.decrease(r,i))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){s.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),s.decrease(t.nodes()[0],0);var f=!1;for(;s.size()>0;){if(n=s.removeMin(),r.has(u,n))a.setEdge(n,u[n]);else{if(f)throw new Error("Input graph is not connected: "+t);f=!0}t.nodeEdges(n).forEach(c)}return a}},function(t,e,n){"use strict";var r=n(0),o=n(267),i=n(270),a=n(271),u=n(2).normalizeRanks,s=n(273),c=n(2).removeEmptyRanks,f=n(274),d=n(275),h=n(276),p=n(277),l=n(286),v=n(2),y=n(5).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?v.time:v.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new y({multigraph:!0,compound:!0}),n=N(t.graph());return e.setGraph(r.merge({},b,k(n,g),r.pick(n,m))),r.forEach(t.nodes(),(function(n){var o=N(t.node(n));e.setNode(n,r.defaults(k(o,x),_)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var o=N(t.edge(n));e.setEdge(n,r.merge({},E,k(o,w),r.pick(o,j)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){f.run(t)})),e("    rank",(function(){a(v.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};v.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){f.cleanup(t)})),e("    normalizeRanks",(function(){u(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var o=t.node(n);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=r.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){s(t)})),e("    addBorderSegments",(function(){d(t)})),e("    order",(function(){p(t)})),e("    insertSelfEdges",(function(){!function(t){var e=v.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,o){var i=t.node(e);i.order=o+n,r.forEach(i.selfEdges,(function(e){v.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){h.adjust(t)})),e("    position",(function(){l(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,u=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),o=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),u=t.node(r.last(n.borderRight));n.width=Math.abs(u.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){h.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),u=a.marginx||0,s=a.marginy||0;function c(t){var r=t.x,a=t.y,u=t.width,s=t.height;e=Math.min(e,r-u/2),n=Math.max(n,r+u/2),o=Math.min(o,a-s/2),i=Math.max(i,a+s/2)}r.forEach(t.nodes(),(function(e){c(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&c(n)})),e-=u,o-=s,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=o})),r.forEach(t.edges(),(function(n){var i=t.edge(n);r.forEach(i.points,(function(t){t.x-=e,t.y-=o})),r.has(i,"x")&&(i.x-=e),r.has(i,"y")&&(i.y-=o)})),a.width=n-e+u,a.height=i-o+s}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(v.intersectRect(i,n)),o.points.push(v.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),o=e.node(n);r&&(r.x=o.x,r.y=o.y,e.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(t.edges(),(function(n){var o=t.edge(n),i=e.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var g=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},m=["acyclicer","ranker","rankdir","align"],x=["width","height","rank"],_={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},j=["labelpos"];function k(t,e){return r.mapValues(r.pick(t,e),Number)}function N(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},function(t,e,n){var r=n(62);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(39),o=n(14),i=n(40),a=n(17),u=Object.prototype,s=u.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(r=1);++n<r;)for(var f=e[n],d=a(f),h=-1,p=d.length;++h<p;){var l=d[h],v=t[l];(void 0===v||o(v,u[l])&&!s.call(t,l))&&(t[l]=f[l])}return t}));t.exports=c},function(t,e,n){var r=n(233)(n(234));t.exports=r},function(t,e,n){var r=n(9),o=n(8),i=n(10);t.exports=function(t){return function(e,n,a){var u=Object(e);if(!o(e)){var s=r(n,3);e=i(e),n=function(t){return s(u[t],t,u)}}var c=t(e,n,a);return c>-1?u[s?e[c]:c]:void 0}}},function(t,e,n){var r=n(101),o=n(9),i=n(235),a=Math.max;t.exports=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var s=null==n?0:i(n);return s<0&&(s=a(u+s,0)),r(t,o(e,3),s)}},function(t,e,n){var r=n(109);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},function(t,e,n){var r=n(4),o=n(19),i=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=u.test(t);return n||s.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(55),o=n(82),i=n(17);t.exports=function(t,e){return null==t?t:r(t,o(e),i)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(31),o=n(54),i=n(9);t.exports=function(t,e){var n={};return e=i(e,3),o(t,(function(t,o,i){r(n,o,e(t,o,i))})),n}},function(t,e,n){var r=n(60),o=n(241),i=n(13);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(243),o=n(247)((function(t,e,n){r(t,e,n)}));t.exports=o},function(t,e,n){var r=n(25),o=n(111),i=n(55),a=n(244),u=n(4),s=n(17),c=n(112);t.exports=function t(e,n,f,d,h){e!==n&&i(n,(function(i,s){if(h||(h=new r),u(i))a(e,n,s,f,t,d,h);else{var p=d?d(c(e,s),i,s+"",e,n,h):void 0;void 0===p&&(p=i),o(e,s,p)}}),s)}},function(t,e,n){var r=n(111),o=n(68),i=n(77),a=n(69),u=n(78),s=n(22),c=n(1),f=n(102),d=n(16),h=n(20),p=n(4),l=n(245),v=n(23),y=n(112),g=n(246);t.exports=function(t,e,n,b,m,x,_){var w=y(t,n),E=y(e,n),j=_.get(E);if(j)r(t,n,j);else{var k=x?x(w,E,n+"",t,e,_):void 0,N=void 0===k;if(N){var M=c(E),S=!M&&d(E),O=!M&&!S&&v(E);k=E,M||S||O?c(w)?k=w:f(w)?k=a(w):S?(N=!1,k=o(E,!0)):O?(N=!1,k=i(E,!0)):k=[]:l(E)||s(E)?(k=w,s(w)?k=g(w):p(w)&&!h(w)||(k=u(E))):N=!1}N&&(_.set(E,k),m(k,E,b,x,_),_.delete(E)),r(t,n,k)}}},function(t,e,n){var r=n(12),o=n(35),i=n(7),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==f}},function(t,e,n){var r=n(21),o=n(17);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(39),o=n(40);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e}))}},function(t,e,n){var r=n(60),o=n(113),i=n(13);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e,n){var r=n(60),o=n(9),i=n(113);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},function(t,e,n){var r=n(6);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(252),o=n(255)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},function(t,e,n){var r=n(253),o=n(91);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},function(t,e,n){var r=n(57),o=n(254),i=n(37);t.exports=function(t,e,n){for(var a=-1,u=e.length,s={};++a<u;){var c=e[a],f=r(t,c);n(f,c)&&o(s,i(c,t),f)}return s}},function(t,e,n){var r=n(30),o=n(37),i=n(32),a=n(4),u=n(24);t.exports=function(t,e,n,s){if(!a(t))return t;for(var c=-1,f=(e=o(e,t)).length,d=f-1,h=t;null!=h&&++c<f;){var p=u(e[c]),l=n;if(c!=d){var v=h[p];void 0===(l=s?s(v,p,h):void 0)&&(l=a(v)?v:i(e[c+1])?[]:{})}r(h,p,l),h=h[p]}return t}},function(t,e,n){var r=n(110),o=n(99),i=n(100);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(257)();t.exports=r},function(t,e,n){var r=n(258),o=n(40),i=n(109);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&o(e,n,a)&&(n=a=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),a=void 0===a?e<n?1:-1:i(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,o,i){for(var a=-1,u=r(n((e-t)/(o||1)),0),s=Array(u);u--;)s[i?u:++a]=t,t+=o;return s}},function(t,e,n){var r=n(59),o=n(260),i=n(39),a=n(40),u=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])}));t.exports=u},function(t,e,n){var r=n(38),o=n(9),i=n(97),a=n(261),u=n(33),s=n(262),c=n(13);t.exports=function(t,e,n){var f=-1;e=r(e.length?e:[c],u(o));var d=i(t,(function(t,n,o){return{criteria:r(e,(function(e){return e(t)})),index:++f,value:t}}));return a(d,(function(t,e){return s(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(263);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,u=i.length,s=n.length;++o<u;){var c=r(i[o],a[o]);if(c)return o>=s?c:c*("desc"==n[o]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(19);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t===t,a=r(t),u=void 0!==e,s=null===e,c=e===e,f=r(e);if(!s&&!f&&!a&&t>e||a&&u&&c&&!s&&!f||o&&u&&c||!n&&c||!i)return 1;if(!o&&!a&&!f&&t<e||f&&n&&i&&!o&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}},function(t,e,n){var r=n(90),o=0;t.exports=function(t){var e=++o;return r(t)+e}},function(t,e,n){var r=n(30),o=n(266);t.exports=function(t,e){return o(t||[],e||[],r)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var u=r<i?e[r]:void 0;n(a,t[r],u)}return a}},function(t,e,n){"use strict";var r=n(0),o=n(268);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):i(t.w)})),delete n[a])}return r.forEach(t.nodes(),i),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},function(t,e,n){var r=n(0),o=n(5).Graph,i=n(269);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new o,a=0,u=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,o=e(t),i=r+o;n.setEdge(t.v,t.w,i),u=Math.max(u,n.node(t.v).out+=o),a=Math.max(a,n.node(t.w).in+=o)}));var c=r.range(u+a+3).map((function(){return new i})),f=a+1;return r.forEach(n.nodes(),(function(t){s(c,f,n.node(t))})),{graph:n,buckets:c,zeroIdx:f}}(t,e||a),c=function(t,e,n){var r,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)u(t,e,n,r);for(;r=i.dequeue();)u(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){o=o.concat(u(t,e,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function u(t,e,n,o,i){var a=i?[]:void 0;return r.forEach(t.inEdges(o.v),(function(r){var o=t.edge(r),u=t.node(r.v);i&&a.push({v:r.v,w:r.w}),u.out-=o,s(e,n,u)})),r.forEach(t.outEdges(o.v),(function(r){var o=t.edge(r),i=r.w,a=t.node(i);a.in-=o,s(e,n,a)})),t.removeNode(o.v),a}function s(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,o)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(0),o=n(2);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,i,a=e.v,u=t.node(a).rank,s=e.w,c=t.node(s).rank,f=e.name,d=t.edge(e),h=d.labelRank;if(c===u+1)return;for(t.removeEdge(e),i=0,++u;u<c;++i,++u)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:e,rank:u},n=o.addDummyNode(t,"edge",r,"_d"),u===h&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),t.setEdge(a,n,{weight:d.weight},f),0===i&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,s,{weight:d.weight},f)}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),o=r.edgeLabel;for(t.setEdge(r.edgeObj,o);r.dummy;)n=t.successors(e)[0],t.removeNode(e),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),e=n,r=t.node(e)}))}}},function(t,e,n){"use strict";var r=n(41).longestPath,o=n(114),i=n(272);t.exports=function(t){var e=t.graph().ranker;if(e instanceof Function)return e(t);switch(t.graph().ranker){case"network-simplex":u(t);break;case"tight-tree":!function(t){r(t),o(t)}(t);break;case"longest-path":a(t);break;case"none":break;default:u(t)}};var a=r;function u(t){i(t)}},function(t,e,n){"use strict";var r=n(0),o=n(114),i=n(41).slack,a=n(41).longestPath,u=n(5).alg.preorder,s=n(5).alg.postorder,c=n(2).simplify;function f(t){t=c(t),a(t);var e,n=o(t);for(p(n),d(n,t);e=v(n);)g(n,t,e,y(n,t,e))}function d(t,e){var n=s(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=h(t,e,n)}(t,e,n)}))}function h(t,e,n){var o=t.node(n).parent,i=!0,a=e.edge(n,o),u=0;return a||(i=!1,a=e.edge(o,n)),u=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,s,c=r.v===n,f=c?r.w:r.v;if(f!==o){var d=c===i,h=e.edge(r).weight;if(u+=d?h:-h,a=n,s=f,t.hasEdge(a,s)){var p=t.edge(n,f).cutvalue;u+=d?-p:p}}})),u}function p(t,e){arguments.length<2&&(e=t.nodes()[0]),l(t,{},1,e)}function l(t,e,n,o,i){var a=n,u=t.node(o);return e[o]=!0,r.forEach(t.neighbors(o),(function(i){r.has(e,i)||(n=l(t,e,n,i,o))})),u.low=a,u.lim=n++,i?u.parent=i:delete u.parent,n}function v(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function y(t,e,n){var o=n.v,a=n.w;e.hasEdge(o,a)||(o=n.w,a=n.v);var u=t.node(o),s=t.node(a),c=u,f=!1;u.lim>s.lim&&(c=s,f=!0);var d=r.filter(e.edges(),(function(e){return f===b(t,t.node(e.v),c)&&f!==b(t,t.node(e.w),c)}));return r.minBy(d,(function(t){return i(e,t)}))}function g(t,e,n,o){var i=n.v,a=n.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),p(t),d(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),o=u(t,n);o=o.slice(1),r.forEach(o,(function(n){var r=t.node(n).parent,o=e.edge(n,r),i=!1;o||(o=e.edge(r,n),i=!0),e.node(n).rank=e.node(r).rank+(i?o.minlen:-o.minlen)}))}(t,e)}function b(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=f,f.initLowLimValues=p,f.initCutValues=d,f.calcCutValue=h,f.leaveEdge=v,f.enterEdge=y,f.exchangeEdges=g},function(t,e,n){var r=n(0);t.exports=function(t){var e=function(t){var e={},n=0;function o(i){var a=n;r.forEach(t.children(i),o),e[i]={low:a,lim:n++}}return r.forEach(t.children(),o),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),o=r.edgeObj,i=function(t,e,n,r){var o,i,a=[],u=[],s=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);o=n;do{o=t.parent(o),a.push(o)}while(o&&(e[o].low>s||c>e[o].lim));i=o,o=r;for(;(o=t.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(t,e,o.v,o.w),a=i.path,u=i.lca,s=0,c=a[s],f=!0;n!==o.w;){if(r=t.node(n),f){for(;(c=a[s])!==u&&t.node(c).maxRank<r.rank;)s++;c===u&&(f=!1)}if(!f){for(;s<a.length-1&&t.node(c=a[s+1]).minRank<=r.rank;)s++;c=a[s]}t.setParent(n,c),n=t.successors(n)[0]}}))}},function(t,e,n){var r=n(0),o=n(2);t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return r.forEach(t.children(),(function(n){!function n(o,i){var a=t.children(o);a&&a.length&&r.forEach(a,(function(t){n(t,i+1)}));e[o]=i}(n,1)})),e}(t),i=r.max(r.values(n))-1,a=2*i+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=a}));var u=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(s){!function t(e,n,i,a,u,s,c){var f=e.children(c);if(!f.length)return void(c!==n&&e.setEdge(n,c,{weight:0,minlen:i}));var d=o.addBorderNode(e,"_bt"),h=o.addBorderNode(e,"_bb"),p=e.node(c);e.setParent(d,c),p.borderTop=d,e.setParent(h,c),p.borderBottom=h,r.forEach(f,(function(r){t(e,n,i,a,u,s,r);var o=e.node(r),f=o.borderTop?o.borderTop:r,p=o.borderBottom?o.borderBottom:r,l=o.borderTop?a:2*a,v=f!==p?1:u-s[c]+1;e.setEdge(d,f,{weight:l,minlen:v,nestingEdge:!0}),e.setEdge(p,h,{weight:l,minlen:v,nestingEdge:!0})})),e.parent(c)||e.setEdge(n,d,{weight:0,minlen:u+s[c]})}(t,e,a,u,i,n,s)})),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,n){var r=n(0),o=n(2);function i(t,e,n,r,i,a){var u={width:0,height:0,rank:a,borderType:e},s=i[e][a-1],c=o.addDummyNode(t,"border",u,n);i[e][a]=c,t.setParent(c,r),s&&t.setEdge(s,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var o=t.children(n),a=t.node(n);if(o.length&&r.forEach(o,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,s=a.maxRank+1;u<s;++u)i(t,"borderLeft","_bl",n,a,u),i(t,"borderRight","_br",n,a,u)}}))}},function(t,e,n){"use strict";var r=n(0);function o(t){r.forEach(t.nodes(),(function(e){i(t.node(e))})),r.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function u(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),(function(e){u(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,u),r.has(n,"x")&&u(n)}))}(t),o(t))}}},function(t,e,n){"use strict";var r=n(0),o=n(278),i=n(279),a=n(280),u=n(284),s=n(285),c=n(5).Graph,f=n(2);function d(t,e,n){return r.map(e,(function(e){return u(t,e,n)}))}function h(t,e){var n=new c;r.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,n,e);r.forEach(i.vs,(function(e,n){t.node(e).order=n})),s(t,n,i.vs)}))}function p(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=f.maxRank(t),n=d(t,r.range(1,e+1),"inEdges"),a=d(t,r.range(e-1,-1,-1),"outEdges"),u=o(t);p(t,u);for(var s,c=Number.POSITIVE_INFINITY,l=0,v=0;v<4;++l,++v){h(l%2?n:a,l%4>=2),u=f.buildLayerMatrix(t);var y=i(t,u);y<c&&(v=0,s=r.cloneDeep(u),c=y)}p(t,s)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),o=r.max(r.map(n,(function(e){return t.node(e).rank}))),i=r.map(r.range(o+1),(function(){return[]}));var a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(o){if(r.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),r.forEach(t.successors(o),n)})),i}},function(t,e,n){"use strict";var r=n(0);function o(t,e,n){for(var o=r.zipObject(n,r.map(n,(function(t,e){return e}))),i=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var u=2*a-1;a-=1;var s=r.map(new Array(u),(function(){return 0})),c=0;return r.forEach(i.forEach((function(t){var e=t.pos+a;s[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=o(t,e[r-1],e[r]);return n}},function(t,e,n){var r=n(0),o=n(281),i=n(282),a=n(283);t.exports=function t(e,n,u,s){var c=e.children(n),f=e.node(n),d=f?f.borderLeft:void 0,h=f?f.borderRight:void 0,p={};d&&(c=r.filter(c,(function(t){return t!==d&&t!==h})));var l=o(e,c);r.forEach(l,(function(n){if(e.children(n.v).length){var o=t(e,n.v,u,s);p[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(l,u);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(v,p);var y=a(v,s);if(d&&(y.vs=r.flatten([d,y.vs,h],!0),e.predecessors(d).length)){var g=e.node(e.predecessors(d)[0]),b=e.node(e.predecessors(h)[0]);r.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+g.order+b.order)/(y.weight+2),y.weight+=2}return y}},function(t,e,n){var r=n(0);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var o=r.reduce(n,(function(e,n){var r=t.edge(n),o=t.node(n.v);return{sum:e.sum+r.weight*o.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var o=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],o=n[t.w];r.isUndefined(e)||r.isUndefined(o)||(o.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(n){n.in.push(e),0===--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},function(t,e,n){var r=n(0),o=n(2);function i(t,e,n){for(var o;e.length&&(o=r.last(e)).i<=n;)e.pop(),t.push(o.vs),n++;return n}t.exports=function(t,e){var n=o.partition(t,(function(t){return r.has(t,"barycenter")})),a=n.lhs,u=r.sortBy(n.rhs,(function(t){return-t.i})),s=[],c=0,f=0,d=0;a.sort((h=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:h?e.i-t.i:t.i-e.i})),d=i(s,u,d),r.forEach(a,(function(t){d+=t.vs.length,s.push(t.vs),c+=t.barycenter*t.weight,f+=t.weight,d=i(s,u,d)}));var h;var p={vs:r.flatten(s,!0)};f&&(p.barycenter=c/f,p.weight=f);return p}},function(t,e,n){var r=n(0),o=n(5).Graph;t.exports=function(t,e,n){var i=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(o){var u=t.node(o),s=t.parent(o);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(a.setNode(o),a.setParent(o,s||i),r.forEach(t[n](o),(function(e){var n=e.v===o?e.w:e.v,i=a.edge(n,o),u=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:t.edge(e).weight+u})})),r.has(u,"minRank")&&a.setNode(o,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))})),a}},function(t,e,n){var r=n(0);t.exports=function(t,e,n){var o,i={};r.forEach(n,(function(n){for(var r,a,u=t.parent(n);u;){if((r=t.parent(u))?(a=i[r],i[r]=u):(a=o,o=u),a&&a!==u)return void e.setEdge(a,u);u=r}}))}},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(287).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),n=t.graph().ranksep,i=0;r.forEach(e,(function(e){var o=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+n}))})(t=o.asNonCompoundGraph(t)),r.forEach(i(t),(function(e,n){t.node(n).x=e}))}},function(t,e,n){"use strict";var r=n(0),o=n(5).Graph,i=n(2);function a(t,e){var n={};return r.reduce(e,(function(e,o){var i=0,a=0,u=e.length,c=r.last(o);return r.forEach(o,(function(e,f){var d=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),h=d?t.node(d).order:u;(d||e===c)&&(r.forEach(o.slice(a,f+1),(function(e){r.forEach(t.predecessors(e),(function(r){var o=t.node(r),a=o.order;!(a<i||h<a)||o.dummy&&t.node(e).dummy||s(n,r,e)}))})),a=f+1,i=h)})),o})),n}function u(t,e){var n={};function o(e,o,i,a,u){var c;r.forEach(r.range(o,i),(function(o){c=e[o],t.node(c).dummy&&r.forEach(t.predecessors(c),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>u)&&s(n,e,c)}))}))}return r.reduce(e,(function(e,n){var i,a=-1,u=0;return r.forEach(n,(function(r,s){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(i=t.node(c[0]).order,o(n,u,s,a,i),u=s,a=i)}o(n,u,n.length,i,e.length)})),n})),n}function s(t,e,n){if(e>n){var r=e;e=n,n=r}var o=t[e];o||(t[e]=o={}),o[n]=!0}function c(t,e,n){if(e>n){var o=e;e=n,n=o}return r.has(t[e],n)}function f(t,e,n,o){var i={},a={},u={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){i[t]=t,a[t]=t,u[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var s=o(t);if(s.length)for(var f=((s=r.sortBy(s,(function(t){return u[t]}))).length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var p=s[d];a[t]===t&&e<u[p]&&!c(n,t,p)&&(a[p]=t,a[t]=i[t]=i[p],e=u[p])}}))})),{root:i,align:a}}function d(t,e,n,i,a){var u={},s=function(t,e,n,i){var a=new o,u=t.graph(),s=function(t,e,n){return function(o,i,a){var u,s=o.node(i),c=o.node(a),f=0;if(f+=s.width/2,r.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2}if(u&&(f+=n?u:-u),u=0,f+=(s.dummy?e:t)/2,f+=(c.dummy?e:t)/2,f+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=c.width/2;break;case"r":u=-c.width/2}return u&&(f+=n?u:-u),u=0,f}}(u.nodesep,u.edgesep,i);return r.forEach(e,(function(e){var o;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),o){var i=n[o],u=a.edge(i,r);a.setEdge(i,r,Math.max(s(t,e,o),u||0))}o=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function f(t,e){for(var n=s.nodes(),r=n.pop(),o={};r;)o[r]?t(r):(o[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return f((function(t){u[t]=s.inEdges(t).reduce((function(t,e){return Math.max(t,u[e.v]+s.edge(e))}),0)}),s.predecessors.bind(s)),f((function(e){var n=s.outEdges(e).reduce((function(t,e){return Math.min(t,u[e.w]-s.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(u[e]=Math.max(u[e],n))}),s.successors.bind(s)),r.forEach(i,(function(t){u[t]=u[n[t]]})),u}function h(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var i=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+i,n),o=Math.min(e-i,o)})),n-o}))}function p(t,e){var n=r.values(e),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var u,s=n+a,c=t[s];if(c!==e){var f=r.values(c);(u="l"===a?o-r.min(f):i-r.max(f))&&(t[s]=r.mapValues(c,(function(t){return t+u})))}}))}))}function l(t,e){return r.mapValues(t.ul,(function(n,o){if(e)return t[e.toLowerCase()][o];var i=r.sortBy(r.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var e,n=i.buildLayerMatrix(t),o=r.merge(a(t,n),u(t,n)),s={};r.forEach(["u","d"],(function(i){e="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),u=f(t,e,o,a),c=d(t,e,u.root,u.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(t){return-t}))),s[i+n]=c}))}));var c=h(t,s);return p(s,c),l(s,t.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:s,hasConflict:c,verticalAlignment:f,horizontalCompaction:d,alignCoordinates:p,findSmallestWidthAlignment:h,balance:l}},function(t,e,n){var r=n(0),o=n(2),i=n(5).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var o="layer"+e;n.setNode(o,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},function(t,e){t.exports="0.8.5-pre"},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.r(e),n.d(e,"graphNew",(function(){return et})),n.d(e,"graphDagre",(function(){return nt}));var a=n(61),u=n.n(a);const s=.5*Math.PI,c=(t,e)=>Math.round(t/e)*e,f=(t,e)=>Math.abs(t-e),d=(t,e)=>Math.atan2(t.y-e.y,t.x-e.x),h=t=>t.x-.5*t.width,p=t=>t.x+.5*t.width,l=t=>t.y-.5*t.height,v=t=>t.y+.5*t.height,y=t=>{const e={};var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){const t=i.value;e[t.y]=e[t.y]||[],e[t.y].push(t)}}catch(l){r=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}const u=Object.keys(e).map(t=>parseFloat(t));u.sort((t,e)=>t-e);const s=u.map(t=>e[t]);for(let v=0;v<s.length;v+=1){s[v].sort((t,e)=>g(t.x,e.x,t.id,e.id));var c=!0,f=!1,d=void 0;try{for(var h,p=s[v][Symbol.iterator]();!(c=(h=p.next()).done);c=!0){h.value.row=v}}catch(l){f=!0,d=l}finally{try{c||null==p.return||p.return()}finally{if(f)throw d}}}return s},g=(t,e,...n)=>{const r="string"===typeof t?t.localeCompare(e):t-e;return 0!==r||0===n.length?r:g(...n)},b=(t,e,n,r,o,i)=>{const a=o-n,u=i-r,s=(d=1,(c=((t-n)*a+(e-r)*u)/(a*a+u*u||1))<(f=0)?f:c>d?d:c);var c,f,d;return{x:n+a*s,y:r+u*s,ax:n,ay:r,bx:o,by:i}};function m(){return new x}var x=function(){function t(){this.index={},this.array=[]}return t.prototype.size=function(){return this.array.length},t.prototype.empty=function(){return 0===this.array.length},t.prototype.itemAt=function(t){return this.array[t]},t.prototype.contains=function(t){return void 0!==this.index[t.id()]},t.prototype.find=function(t){var e=this.index[t.id()];return void 0===e?void 0:this.array[e]},t.prototype.setDefault=function(t,e){var n=this.index[t.id()];if(void 0===n){var r=new _(t,e());return this.index[t.id()]=this.array.length,this.array.push(r),r}return this.array[n]},t.prototype.insert=function(t,e){var n=new _(t,e),r=this.index[t.id()];return void 0===r?(this.index[t.id()]=this.array.length,this.array.push(n)):this.array[r]=n,n},t.prototype.erase=function(t){var e=this.index[t.id()];if(void 0!==e){this.index[t.id()]=void 0;var n=this.array[e],r=this.array.pop();return n!==r&&(this.array[e]=r,this.index[r.first.id()]=e),n}},t.prototype.copy=function(){for(var e=new t,n=0;n<this.array.length;n++){var r=this.array[n].copy();e.array[n]=r,e.index[r.first.id()]=n}return e},t}(),_=function(){function t(t,e){this.first=t,this.second=e}return t.prototype.copy=function(){return new t(this.first,this.second)},t}(),w=function(){function t(t){void 0===t&&(t=""),this._value=0,this._context=null,this._id=E++,this._name=t}return t.prototype.id=function(){return this._id},t.prototype.name=function(){return this._name},t.prototype.setName=function(t){this._name=t},t.prototype.context=function(){return this._context},t.prototype.setContext=function(t){this._context=t},t.prototype.value=function(){return this._value},t.prototype.setValue=function(t){this._value=t},t.prototype.plus=function(t){return new j(this,t)},t.prototype.minus=function(t){return new j(this,"number"===typeof t?-t:[-1,t])},t.prototype.multiply=function(t){return new j([t,this])},t.prototype.divide=function(t){return new j([1/t,this])},t.prototype.toJSON=function(){return{name:this._name,value:this._value}},t.prototype.toString=function(){return this._context+"["+this._name+":"+this._value+"]"},t}(),E=0,j=function(){function t(){var t=k(arguments);this._terms=t.terms,this._constant=t.constant}return t.prototype.terms=function(){return this._terms},t.prototype.constant=function(){return this._constant},t.prototype.value=function(){for(var t=this._constant,e=0,n=this._terms.size();e<n;e++){var r=this._terms.itemAt(e);t+=r.first.value()*r.second}return t},t.prototype.plus=function(e){return new t(this,e)},t.prototype.minus=function(e){return new t(this,"number"===typeof e?-e:[-1,e])},t.prototype.multiply=function(e){return new t([e,this])},t.prototype.divide=function(e){return new t([1/e,this])},t.prototype.isConstant=function(){return 0==this._terms.size()},t.prototype.toString=function(){var t=this._terms.array.map((function(t){return t.second+"*"+t.first.toString()})).join(" + ");return this.isConstant()||0===this._constant||(t+=" + "),t+=this._constant},t}();function k(t){for(var e=0,n=function(){return 0},r=m(),o=0,i=t.length;o<i;++o){var a=t[o];if("number"===typeof a)e+=a;else if(a instanceof w)r.setDefault(a,n).second+=1;else if(a instanceof j){e+=a.constant();for(var u=0,s=(h=a.terms()).size();u<s;u++){var c=h.itemAt(u);r.setDefault(c.first,n).second+=c.second}}else{if(!(a instanceof Array))throw new Error("invalid Expression argument: "+a);if(2!==a.length)throw new Error("array must have length 2");var f=a[0],d=a[1];if("number"!==typeof f)throw new Error("array item 0 must be a number");if(d instanceof w)r.setDefault(d,n).second+=f;else{if(!(d instanceof j))throw new Error("array item 1 must be a variable or expression");e+=d.constant()*f;var h;for(u=0,s=(h=d.terms()).size();u<s;u++){c=h.itemAt(u);r.setDefault(c.first,n).second+=c.second*f}}}}return{terms:r,constant:e}}var N,M=function(){function t(){}return t.create=function(t,e,n,r){void 0===r&&(r=1);var o=0;return o+=1e6*Math.max(0,Math.min(1e3,t*r)),o+=1e3*Math.max(0,Math.min(1e3,e*r)),o+=Math.max(0,Math.min(1e3,n*r))},t.clip=function(e){return Math.max(0,Math.min(t.required,e))},t.required=t.create(1e3,1e3,1e3),t.strong=t.create(1,0,0),t.medium=t.create(0,1,0),t.weak=t.create(0,0,1),t}();!function(t){t[t.Le=0]="Le",t[t.Ge=1]="Ge",t[t.Eq=2]="Eq"}(N||(N={}));var S,O=function(){function t(t,e,n,r){void 0===r&&(r=M.required),this._id=A++,this._operator=e,this._strength=M.clip(r),this._expression=void 0===n&&t instanceof j?t:t.minus(n)}return t.prototype.id=function(){return this._id},t.prototype.expression=function(){return this._expression},t.prototype.op=function(){return this._operator},t.prototype.strength=function(){return this._strength},t.prototype.toString=function(){return this._expression.toString()+" "+["<=",">=","="][this._operator]+" 0 ("+this._strength.toString()+")"},t}(),A=0,I=function(){function t(){this._cnMap=m(),this._rowMap=m(),this._varMap=m(),this._editMap=m(),this._infeasibleRows=[],this._objective=new L,this._artificial=null,this._idTick=0}return t.prototype.createConstraint=function(t,e,n,r){void 0===r&&(r=M.required);var o=new O(t,e,n,r);return this.addConstraint(o),o},t.prototype.addConstraint=function(t){if(void 0!==this._cnMap.find(t))throw new Error("duplicate constraint");var e=this._createRow(t),n=e.row,r=e.tag,o=this._chooseSubject(n,r);if(o.type()===S.Invalid&&n.allDummies()){if(!C(n.constant()))throw new Error("unsatisfiable constraint");o=r.marker}if(o.type()===S.Invalid){if(!this._addWithArtificialVariable(n))throw new Error("unsatisfiable constraint")}else n.solveFor(o),this._substitute(o,n),this._rowMap.insert(o,n);this._cnMap.insert(t,r),this._optimize(this._objective)},t.prototype.removeConstraint=function(t){var e=this._cnMap.erase(t);if(void 0===e)throw new Error("unknown constraint");this._removeConstraintEffects(t,e.second);var n=e.second.marker,r=this._rowMap.erase(n);if(void 0===r){var o=this._getMarkerLeavingSymbol(n);if(o.type()===S.Invalid)throw new Error("failed to find leaving row");(r=this._rowMap.erase(o)).second.solveForEx(o,n),this._substitute(n,r.second)}this._optimize(this._objective)},t.prototype.hasConstraint=function(t){return this._cnMap.contains(t)},t.prototype.addEditVariable=function(t,e){if(void 0!==this._editMap.find(t))throw new Error("duplicate edit variable");if((e=M.clip(e))===M.required)throw new Error("bad required strength");var n=new j(t),r=new O(n,N.Eq,void 0,e);this.addConstraint(r);var o={tag:this._cnMap.find(r).second,constraint:r,constant:0};this._editMap.insert(t,o)},t.prototype.removeEditVariable=function(t){var e=this._editMap.erase(t);if(void 0===e)throw new Error("unknown edit variable");this.removeConstraint(e.second.constraint)},t.prototype.hasEditVariable=function(t){return this._editMap.contains(t)},t.prototype.suggestValue=function(t,e){var n=this._editMap.find(t);if(void 0===n)throw new Error("unknown edit variable");var r=this._rowMap,o=n.second,i=e-o.constant;o.constant=e;var a=o.tag.marker,u=r.find(a);if(void 0!==u)return u.second.add(-i)<0&&this._infeasibleRows.push(a),void this._dualOptimize();var s=o.tag.other;if(void 0!==(u=r.find(s)))return u.second.add(i)<0&&this._infeasibleRows.push(s),void this._dualOptimize();for(var c=0,f=r.size();c<f;++c){var d=r.itemAt(c),h=d.second,p=h.coefficientFor(a);0!==p&&h.add(i*p)<0&&d.first.type()!==S.External&&this._infeasibleRows.push(d.first)}this._dualOptimize()},t.prototype.updateVariables=function(){for(var t=this._varMap,e=this._rowMap,n=0,r=t.size();n<r;++n){var o=t.itemAt(n),i=e.find(o.second);void 0!==i?o.first.setValue(i.second.constant()):o.first.setValue(0)}},t.prototype._getVarSymbol=function(t){var e=this;return this._varMap.setDefault(t,(function(){return e._makeSymbol(S.External)})).second},t.prototype._createRow=function(t){for(var e=t.expression(),n=new L(e.constant()),r=e.terms(),o=0,i=r.size();o<i;++o){var a=r.itemAt(o);if(!C(a.second)){var u=this._getVarSymbol(a.first),s=this._rowMap.find(u);void 0!==s?n.insertRow(s.second,a.second):n.insertSymbol(u,a.second)}}var c=this._objective,f=t.strength(),d={marker:z,other:z};switch(t.op()){case N.Le:case N.Ge:var h=t.op()===N.Le?1:-1,p=this._makeSymbol(S.Slack);if(d.marker=p,n.insertSymbol(p,h),f<M.required){var l=this._makeSymbol(S.Error);d.other=l,n.insertSymbol(l,-h),c.insertSymbol(l,f)}break;case N.Eq:if(f<M.required){var v=this._makeSymbol(S.Error),y=this._makeSymbol(S.Error);d.marker=v,d.other=y,n.insertSymbol(v,-1),n.insertSymbol(y,1),c.insertSymbol(v,f),c.insertSymbol(y,f)}else{var g=this._makeSymbol(S.Dummy);d.marker=g,n.insertSymbol(g)}}return n.constant()<0&&n.reverseSign(),{row:n,tag:d}},t.prototype._chooseSubject=function(t,e){for(var n=t.cells(),r=0,o=n.size();r<o;++r){var i=n.itemAt(r);if(i.first.type()===S.External)return i.first}var a=e.marker.type();return(a===S.Slack||a===S.Error)&&t.coefficientFor(e.marker)<0?e.marker:((a=e.other.type())===S.Slack||a===S.Error)&&t.coefficientFor(e.other)<0?e.other:z},t.prototype._addWithArtificialVariable=function(t){var e=this._makeSymbol(S.Slack);this._rowMap.insert(e,t.copy()),this._artificial=t.copy(),this._optimize(this._artificial);var n=C(this._artificial.constant());this._artificial=null;var r=this._rowMap.erase(e);if(void 0!==r){var o=r.second;if(o.isConstant())return n;var i=this._anyPivotableSymbol(o);if(i.type()===S.Invalid)return!1;o.solveForEx(e,i),this._substitute(i,o),this._rowMap.insert(i,o)}for(var a=this._rowMap,u=0,s=a.size();u<s;++u)a.itemAt(u).second.removeSymbol(e);return this._objective.removeSymbol(e),n},t.prototype._substitute=function(t,e){for(var n=this._rowMap,r=0,o=n.size();r<o;++r){var i=n.itemAt(r);i.second.substitute(t,e),i.second.constant()<0&&i.first.type()!==S.External&&this._infeasibleRows.push(i.first)}this._objective.substitute(t,e),this._artificial&&this._artificial.substitute(t,e)},t.prototype._optimize=function(t){for(;;){var e=this._getEnteringSymbol(t);if(e.type()===S.Invalid)return;var n=this._getLeavingSymbol(e);if(n.type()===S.Invalid)throw new Error("the objective is unbounded");var r=this._rowMap.erase(n).second;r.solveForEx(n,e),this._substitute(e,r),this._rowMap.insert(e,r)}},t.prototype._dualOptimize=function(){for(var t=this._rowMap,e=this._infeasibleRows;0!==e.length;){var n=e.pop(),r=t.find(n);if(void 0!==r&&r.second.constant()<0){var o=this._getDualEnteringSymbol(r.second);if(o.type()===S.Invalid)throw new Error("dual optimize failed");var i=r.second;t.erase(n),i.solveForEx(n,o),this._substitute(o,i),t.insert(o,i)}}},t.prototype._getEnteringSymbol=function(t){for(var e=t.cells(),n=0,r=e.size();n<r;++n){var o=e.itemAt(n),i=o.first;if(o.second<0&&i.type()!==S.Dummy)return i}return z},t.prototype._getDualEnteringSymbol=function(t){for(var e=Number.MAX_VALUE,n=z,r=t.cells(),o=0,i=r.size();o<i;++o){var a=r.itemAt(o),u=a.first,s=a.second;if(s>0&&u.type()!==S.Dummy){var c=this._objective.coefficientFor(u)/s;c<e&&(e=c,n=u)}}return n},t.prototype._getLeavingSymbol=function(t){for(var e=Number.MAX_VALUE,n=z,r=this._rowMap,o=0,i=r.size();o<i;++o){var a=r.itemAt(o),u=a.first;if(u.type()!==S.External){var s=a.second,c=s.coefficientFor(t);if(c<0){var f=-s.constant()/c;f<e&&(e=f,n=u)}}}return n},t.prototype._getMarkerLeavingSymbol=function(t){for(var e=Number.MAX_VALUE,n=e,r=e,o=z,i=o,a=o,u=o,s=this._rowMap,c=0,f=s.size();c<f;++c){var d=s.itemAt(c),h=d.second,p=h.coefficientFor(t);if(0!==p){var l=d.first;if(l.type()===S.External)u=l;else if(p<0){(v=-h.constant()/p)<n&&(n=v,i=l)}else{var v;(v=h.constant()/p)<r&&(r=v,a=l)}}}return i!==o?i:a!==o?a:u},t.prototype._removeConstraintEffects=function(t,e){e.marker.type()===S.Error&&this._removeMarkerEffects(e.marker,t.strength()),e.other.type()===S.Error&&this._removeMarkerEffects(e.other,t.strength())},t.prototype._removeMarkerEffects=function(t,e){var n=this._rowMap.find(t);void 0!==n?this._objective.insertRow(n.second,-e):this._objective.insertSymbol(t,-e)},t.prototype._anyPivotableSymbol=function(t){for(var e=t.cells(),n=0,r=e.size();n<r;++n){var o=e.itemAt(n),i=o.first.type();if(i===S.Slack||i===S.Error)return o.first}return z},t.prototype._makeSymbol=function(t){return new P(t,this._idTick++)},t}();function C(t){return t<0?-t<1e-8:t<1e-8}!function(t){t[t.Invalid=0]="Invalid",t[t.External=1]="External",t[t.Slack=2]="Slack",t[t.Error=3]="Error",t[t.Dummy=4]="Dummy"}(S||(S={}));var P=function(){function t(t,e){this._id=e,this._type=t}return t.prototype.id=function(){return this._id},t.prototype.type=function(){return this._type},t}(),z=new P(S.Invalid,-1),L=function(){function t(t){void 0===t&&(t=0),this._cellMap=m(),this._constant=t}return t.prototype.cells=function(){return this._cellMap},t.prototype.constant=function(){return this._constant},t.prototype.isConstant=function(){return this._cellMap.empty()},t.prototype.allDummies=function(){for(var t=this._cellMap,e=0,n=t.size();e<n;++e){if(t.itemAt(e).first.type()!==S.Dummy)return!1}return!0},t.prototype.copy=function(){var e=new t(this._constant);return e._cellMap=this._cellMap.copy(),e},t.prototype.add=function(t){return this._constant+=t},t.prototype.insertSymbol=function(t,e){void 0===e&&(e=1),C(this._cellMap.setDefault(t,(function(){return 0})).second+=e)&&this._cellMap.erase(t)},t.prototype.insertRow=function(t,e){void 0===e&&(e=1),this._constant+=t._constant*e;for(var n=t._cellMap,r=0,o=n.size();r<o;++r){var i=n.itemAt(r);this.insertSymbol(i.first,i.second*e)}},t.prototype.removeSymbol=function(t){this._cellMap.erase(t)},t.prototype.reverseSign=function(){this._constant=-this._constant;for(var t=this._cellMap,e=0,n=t.size();e<n;++e){var r=t.itemAt(e);r.second=-r.second}},t.prototype.solveFor=function(t){var e=this._cellMap,n=-1/e.erase(t).second;this._constant*=n;for(var r=0,o=e.size();r<o;++r)e.itemAt(r).second*=n},t.prototype.solveForEx=function(t,e){this.insertSymbol(t,-1),this.solveFor(e)},t.prototype.coefficientFor=function(t){var e=this._cellMap.find(t);return void 0!==e?e.second:0},t.prototype.substitute=function(t,e){var n=this._cellMap.erase(t);void 0!==n&&this.insertRow(e,n.second)},t}();const F=(t,e)=>{if("undefined"===typeof t.id)throw new Error("Object is missing property \'id\' required for key.");return t.id+"_"+e},R=(t,e)=>t-e,D=(t,e)=>t===e,T=(t,e)=>t>=e,B=(t,e=1,n=!1)=>n?V(t):U(t,e),U=(t,e)=>{for(let s=0;s<e;s+=1){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){const t=i.value,e=(t.delta||R)(t.a[t.key],t.b[t.key],t),n=(t.distance||f)(t.a[t.key],t.b[t.key],t),r=t.target(t.a[t.key],t.b[t.key],t,e,n);if(!(t.operator||D)(n,r,e)){const n=(t.strength?t.strength(t):1)*(e-r);let o=t.weightA?t.weightA(t):1,i=t.weightB?t.weightB(t):1;o/=o+i,i=1-o,t.a[t.key]-=o*n,t.b[t.key]+=i*n}}}catch(u){r=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},V=t=>{const e=new I,n={};var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){const t=a.value;n[F(t.a,t.key)]=new w,n[F(t.b,t.key)]=new w}}catch(m){o=!0,i=m}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s,c=!0,f=!1,d=void 0;try{for(var h,p=t[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){const t=h.value,r=n[F(t.a,t.key)].minus(n[F(t.b,t.key)]);t.constraint=new O(r,(s=t.operator||D)===D?N.Eq:s===T?N.Ge:void 0,t.target(),!0===t.required?M.required:M.strong),e.addConstraint(t.constraint)}}catch(m){f=!0,d=m}finally{try{c||null==p.return||p.return()}finally{if(f)throw d}}e.updateVariables();var l=!0,v=!1,y=void 0;try{for(var g,b=t[Symbol.iterator]();!(l=(g=b.next()).done);l=!0){const t=g.value;t.a[t.key]=n[F(t.a,t.key)].value(),t.b[t.key]=n[F(t.b,t.key)].value()}}catch(m){v=!0,y=m}finally{try{l||null==b.return||b.return()}finally{if(v)throw y}}},G=(t,e,n)=>{const r=q(t);let o=0;for(let h=0;h<r.length;h+=1){const t=r[h];o+=c(t*n,Math.round(.25*n));var i=!0,a=!1,u=void 0;try{for(var s,f=e[h+1][Symbol.iterator]();!(i=(s=f.next()).done);i=!0){s.value.y+=o}}catch(d){a=!0,u=d}finally{try{i||null==f.return||f.return()}finally{if(a)throw u}}}},q=t=>{const e={};var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){const t=i.value,n=Math.abs(d(t.targetNode,t.sourceNode)-s)/s,r=t.sourceNode.row,o=t.targetNode.row-1;e[r]=e[r]||[0,0],e[r][0]+=n,e[r][1]+=1,o!==r&&(e[o]=e[o]||[0,0],e[o][0]+=n,e[o][1]+=1)}}catch(u){r=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}for(const s in e)e[s]=e[s][0]/(e[s][1]||1);return Object.values(e)},Y={layout:{spaceX:16,spaceY:110,layerSpaceY:55,basisX:1500,padding:100,iterations:20},routing:{spaceX:26,spaceY:28,minPassageGap:40,stemUnit:8,stemMinSource:5,stemMinTarget:5,stemMax:20,stemSpaceSource:6,stemSpaceTarget:10}},X=(t,e,n,r=Y)=>{$(t,e),W(t,n),(({nodes:t,edges:e,layers:n,basisX:r,spaceX:o,spaceY:a,layerSpaceY:u,iterations:s})=>{const f=[],d=[],h=[],p=[],l=[],v=[],b=[];var m=!0,x=!1,_=void 0;try{for(var w,E=t[Symbol.iterator]();!(m=(w=E.next()).done);m=!0){const t=w.value;t.x=0,t.y=0}}catch($){x=!0,_=$}finally{try{m||null==E.return||E.return()}finally{if(x)throw _}}const j=e.map(t=>({a:t.targetNode,b:t.sourceNode,key:"y",operator:T,target:()=>a,weightA:()=>0,weightB:()=>1,required:!0}));if(n){const e=Object.values(n),r=.5*(a+u);let o=t.filter(t=>t.nearestLayer===e[0]);for(let n=0;n<e.length-1;n+=1){const i=e[n],a=e[n+1],u=t.filter(t=>t.nearestLayer===a),s={id:i,x:0,y:0};var k=!0,N=!1,M=void 0;try{for(var S,O=o[Symbol.iterator]();!(k=(S=O.next()).done);k=!0){const t=S.value;f.push({a:s,b:t,key:"y",operator:T,target:()=>r,weightA:()=>0,weightB:()=>1})}}catch($){N=!0,M=$}finally{try{k||null==O.return||O.return()}finally{if(N)throw M}}var A=!0,I=!1,C=void 0;try{for(var P,z=u[Symbol.iterator]();!(A=(P=z.next()).done);A=!0){const t=P.value;f.push({a:t,b:s,key:"y",operator:T,target:()=>r,weightA:()=>0,weightB:()=>1})}}catch($){I=!0,C=$}finally{try{A||null==z.return||z.return()}finally{if(I)throw C}}o=u}}B([...j,...f],1,!0);const L=y(t),F={basisX:r,key:"x",operator:(t,e,n)=>e>=0?n>=e:n<=e,target:(t,e,n)=>n.edgeA.sourceNode.x-n.edgeB.sourceNode.x+(n.edgeA.targetNode.x-n.edgeB.targetNode.x)<0?-n.basisX:n.basisX,strength:t=>1/t.basisX,weightA:()=>.5,weightB:()=>.5};for(let c=0;c<e.length;c+=1){const t=e[c];for(let n=c+1;n<e.length;n+=1){const r=e[n];t.source!==r.source&&d.push(i(i({},F),{},{a:t.sourceNode,b:r.sourceNode,edgeA:t,edgeB:r})),t.target!==r.target&&d.push(i(i({},F),{},{a:t.targetNode,b:r.targetNode,edgeA:t,edgeB:r}))}}var R=!0,U=!1,V=void 0;try{for(var q,Y=e[Symbol.iterator]();!(R=(q=Y.next()).done);R=!0){const t=q.value,e={a:t.sourceNode,b:t.targetNode,key:"x",operator:D,target:()=>0,strength:t=>1/Math.max(1,.5*(t.a.targets.length+t.b.sources.length)),weightA:()=>.5,weightB:()=>.5};h.push(e);const n=1===t.sourceNode.targets.length,r=1===t.targetNode.sources.length;(n||r)&&p.push(e),n&&r&&l.push(e)}}catch($){U=!0,V=$}finally{try{R||null==Y.return||Y.return()}finally{if(U)throw V}}const X=Math.ceil(.5*s);for(let i=0;i<s;i+=1){B(d,1),B(h,1),B(p,X),B(l,X),v.length=0;for(let t=0;t<L.length;t+=1){const e=L[t];e.sort((t,e)=>g(t.x,e.x,t.id,e.id));for(let t=0;t<e.length-1;t+=1)v.push({a:e[t],b:e[t+1],key:"x",operator:(t,e,n)=>n<=e,target:(t,e,n)=>-o-.5*n.a.width-.5*n.b.width,strength:()=>1,weightA:()=>.5,weightB:()=>.5})}B(v,X)}for(let i=0;i<L.length;i+=1){const t=L[i];for(let e=0;e<t.length-1;e+=1){const n=.8*(t[e+1].x-t[e].x),r=.5*t[e].width+o+.5*t[e+1].width,i=Math.max(c(n,o),r);b.push({a:t[e+1],b:t[e],key:"x",operator:T,target:()=>i,weightA:()=>0,weightB:()=>1,required:!0})}}B([...b,...h],1,!0),G(e,L,a)})(i({nodes:t,edges:e,layers:n},r.layout)),(({nodes:t,edges:e,spaceX:n,spaceY:r,minPassageGap:o,stemUnit:a,stemMinSource:u,stemMinTarget:s,stemMax:c,stemSpaceSource:m,stemSpaceTarget:x})=>{const _=y(t);var w=!0,E=!1,j=void 0;try{for(var k,N=t[Symbol.iterator]();!(w=(k=N.next()).done);w=!0){k.value.targets.sort((t,e)=>g(d(e.sourceNode,e.targetNode),d(t.sourceNode,t.targetNode)))}}catch(q){E=!0,j=q}finally{try{w||null==N.return||N.return()}finally{if(E)throw j}}var M=!0,S=!1,O=void 0;try{for(var A,I=e[Symbol.iterator]();!(M=(A=I.next()).done);M=!0){const t=A.value,e=t.sourceNode,a=t.targetNode;t.points=[];const u=Math.min((e.width-m)/e.targets.length,m),s=u*(e.targets.indexOf(t)-.5*(e.targets.length-1));let c={x:e.x+s,y:e.y};for(let d=e.row+1;d<a.row;d+=1){const e=_[d][0];let a={x:h(e)-n,y:e.y},u=1/0;const v=[i(i({},e),{},{x:Number.MIN_SAFE_INTEGER}),..._[d],i(i({},e),{},{x:Number.MAX_SAFE_INTEGER})];for(let t=0;t<v.length-1;t+=1){const e=v[t],i=v[t+1],s=h(i)-p(e);if(s<o)continue;const d=Math.min(n,.5*s),y=b(c.x,c.y,p(e)+d,l(e)-r,h(i)-d,l(i)-r),g=f(c.x,y.x);if(g>u)break;g<u&&(u=g,a=y)}const y=e.height+r;t.points.push({x:a.x+s,y:a.y}),t.points.push({x:a.x+s,y:a.y+y}),c={x:a.x,y:a.y+y}}}}catch(q){S=!0,O=q}finally{try{M||null==I.return||I.return()}finally{if(S)throw O}}var C=!0,P=!1,z=void 0;try{for(var L,F=t[Symbol.iterator]();!(C=(L=F.next()).done);C=!0){const t=L.value;t.targets.sort((t,e)=>g(d(e.sourceNode,e.points[0]||e.targetNode),d(t.sourceNode,t.points[0]||t.targetNode))),t.sources.sort((t,e)=>g(d(t.points[t.points.length-1]||t.sourceNode,t.targetNode),d(e.points[e.points.length-1]||e.sourceNode,e.targetNode)))}}catch(q){P=!0,z=q}finally{try{C||null==F.return||F.return()}finally{if(P)throw z}}var R=!0,D=!1,T=void 0;try{for(var B,U=e[Symbol.iterator]();!(R=(B=U.next()).done);R=!0){const t=B.value,e=t.sourceNode,n=t.targetNode,r=Math.min((e.width-m)/e.targets.length,m),o=Math.min((n.width-x)/n.sources.length,x),i=e.targets.indexOf(t)-.5*(e.targets.length-1),f=n.sources.indexOf(t)-.5*(n.sources.length-1),d=r*i,h=o*f,p=a*e.targets.length*(1-Math.abs(i)/e.targets.length),y=a*n.sources.length*(1-Math.abs(f)/n.sources.length),g=[{x:e.x+d,y:v(e)},{x:e.x+d,y:v(e)+u},{x:e.x+d,y:v(e)+u+Math.min(p,c)}],b=[{x:n.x+h,y:l(n)-s-Math.min(y,c)},{x:n.x+h,y:l(n)-s},{x:n.x+h,y:l(n)}],_=[...g,...t.points,...b];let w=_[0].y;for(var V=0,G=_;V<G.length;V++){const t=G[V];t.y<w?t.y=w:w=t.y}t.points=_}}catch(q){D=!0,T=q}finally{try{R||null==U.return||U.return()}finally{if(D)throw T}}})(i({nodes:t,edges:e,layers:n},r.routing));const o=tt(t,r.layout.padding);return t.forEach(t=>((t,e)=>(t.x=t.x-e.x,t.y=t.y-e.y,t.order=t.x+9999*t.y,t))(t,o.min)),e.forEach(t=>((t,e)=>(t.points.forEach(t=>{t.x=t.x-e.x,t.y=t.y-e.y}),t))(t,o.min)),{nodes:t,edges:e,layers:n,size:o}},$=(t,e)=>{const n={};var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){const t=a.value;n[t.id]=t,t.targets=[],t.sources=[]}}catch(p){o=!0,i=p}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s=!0,c=!1,f=void 0;try{for(var d,h=e[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){const t=d.value;t.sourceNode=n[t.source],t.targetNode=n[t.target],t.sourceNode.targets.push(t),t.targetNode.sources.push(t)}}catch(p){c=!0,f=p}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}},W=(t,e)=>{if(e&&e.length>0){const c=e.reduce((t,e)=>i(i({},t),{},{[e]:!0}),{}),f=t=>Boolean(c[t.layer]);var n=!0,r=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){const t=a.value,e=Z(t,J,H,f);t.nearestLayer=e&&e.layer}}catch(s){r=!0,o=s}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}}},J=t=>K(t).concat(Q(t)),K=t=>t.targets.map(t=>t.targetNode),Q=t=>t.sources.map(t=>t.sourceNode),H=(t,e)=>Math.abs(t.rank-e.rank),Z=(t,e,n,r,o)=>{if(r(t))return t;(o=o||{})[t.id]=!0;const i=e(t).filter(t=>!o[t.id]).sort((e,r)=>n(t,e)-n(t,r));return i.filter(r)[0]||i.map(t=>Z(t,e,n,r,o))[0]},tt=(t,e)=>{const n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}};var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){const t=a.value,e=t.x,r=t.y;e<n.min.x&&(n.min.x=e),e>n.max.x&&(n.max.x=e),r<n.min.y&&(n.min.y=r),r>n.max.y&&(n.max.y=r)}}catch(s){o=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n.width=n.max.x-n.min.x+2*e,n.height=n.max.y-n.min.y+2*e,n.min.x-=e,n.min.y-=e,n},et=({nodes:t,edges:e,layers:n})=>{const r=X(t,e,n);return i(i({},r),{},{size:i(i({},r.size),{},{marginx:100,marginy:100}),oldgraph:!1})},nt=({nodes:t,edges:e,layers:n})=>{const r=Boolean(n.length),o=(new u.a.graphlib.Graph).setGraph({ranker:r?"none":null,ranksep:r?200:70,marginx:40,marginy:40});return t.forEach(t=>{o.setNode(t.id,t)}),e.forEach(t=>{o.setEdge(t.source,t.target,t)}),u.a.layout(o),{nodes:o.nodes().map(t=>{const e=o.node(t);return i(i({},e),{},{order:e.x+9999*e.y})}),edges:o.edges().map(t=>o.edge(t)),size:o.graph(),oldgraph:!0}};addEventListener("message",(function(t){var n,r=t.data,o=r.type,i=r.method,a=r.id,u=r.params;"RPC"===o&&i&&((n=e[i])?Promise.resolve().then((function(){return n.apply(e,u)})):Promise.reject("No such method")).then((function(t){postMessage({type:"RPC",id:a,result:t})})).catch((function(t){var e={message:t};t.stack&&(e.message=t.message,e.stack=t.stack,e.name=t.name),postMessage({type:"RPC",id:a,error:e})}))})),postMessage({type:"RPC",method:"ready"})}]);\n//# sourceMappingURL=a67b65779e12e20ba57c.worker.js.map'])),{name:"[hash].worker.js"});return r(e,o),e}},463:function(e,t,n){},464:function(e,t,n){},614:function(e,t,n){},639:function(e,t,n){},640:function(e,t,n){},641:function(e,t,n){},642:function(e,t,n){},643:function(e,t,n){},648:function(e,t,n){},649:function(e,t,n){},650:function(e,t,n){},653:function(e,t,n){},654:function(e,t,n){},662:function(e,t){},663:function(e,t,n){},664:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(252),i=n.n(a),s=(n(55),n(4)),c=n(37),u=n(254),l=n(255),d=n.n(l);function p(e){return{type:"RESET_DATA",data:e}}function f(e){return{type:"TOGGLE_EXPORT_MODAL",visible:e}}function h(e){return{type:"TOGGLE_GRAPH",visible:e}}function g(e){return{type:"UPDATE_ZOOM",zoom:e}}var m=function(e={},t){switch(t.type){case"CHANGE_FLAG":return Object.assign({},e,{[t.name]:t.value});default:return e}},v=n(22),y=n.n(v),b=n(38);const _="undefined"!==typeof jest,w=n(_?665:460),x=(E=w,_?()=>{const e={terminate:()=>{}};return Object.keys(E).forEach(t=>{e[t]=e=>new Promise(n=>n(E[t](e)))}),e}:E);var E;function k(e){return{type:"TOGGLE_GRAPH_LOADING",loading:e}}function O(e){return{type:"UPDATE_GRAPH_LAYOUT",graph:e}}const j=function(e,t){let n=e(),r=!1;return o=>(r&&(n.terminate(),n=e()),r=!0,t(n,o).then(e=>(r=!1,e)))}(x,(e,t)=>t.oldgraph?e.graphDagre(t):e.graphNew(t));var N=function(e={},t){switch(t.type){case"UPDATE_GRAPH_LAYOUT":return n=t.graph,Object.assign({},e,n);default:return e}var n};var S=function(e={},t){switch(t.type){case"TOGGLE_LAYERS":return Object.assign({},e,{visible:t.visible});default:return e}};const M="./api",T={breakpoint:1200,open:400,closed:0},I={breakpoint:700,open:400,closed:56},L={oldgraph:{description:"Use older Dagre graphing algorithm",default:!1,private:!1,icon:"\ud83d\udcc8"},lazy:{description:"Improved sidebar performance",default:!1,icon:"\ud83d\ude34"}},A={Categories:{Tags:"tag"},Elements:{Nodes:"task",Datasets:"data",Parameters:"parameters"}},C=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t(e)}),n},R=(e,t)=>{switch(e){case"main":return[M,"main"].join("/");case"pipeline":if(!t)throw new Error("No pipeline ID provided");return[M,"pipelines",t].join("/");case"nodes":if(!t)throw new Error("No node ID provided");return[M,"nodes",t].join("/");default:throw new Error("Unknown URL type")}},D=(e,t,n)=>n.indexOf(e)===t;var z=n(670);var P=(e=R("main"),t={})=>Object(z.a)(e).catch(()=>{const n="/public".concat(e.substr(1));if(e===R("main"))throw new Error("Unable to load data from ".concat(e,". If you're running Kedro-Viz as a standalone (e.g. for JavaScript development), please check that you have placed a data file at ").concat(n,"."));return new Promise(e=>e(t))}),G=n(1),B=n(256),U=n.n(B);const F="undefined"===typeof window,V=()=>{if(F)return{};try{const e=window.localStorage.getItem("KedroViz");return null===e?{}:JSON.parse(e)}catch(e){return console.error(e),{}}},q=e=>{if(!F)try{const t=Object.assign(V(),e);t.hasOwnProperty("nodeTypeDisabled")&&delete t.nodeTypeDisabled;const n=JSON.stringify(t);window.localStorage.setItem("KedroViz",n)}catch(t){console.error(t)}},W=e=>{const t={};for(let n in e)e.hasOwnProperty(n)&&e[n]&&(t[n]=e[n]);return t};var H=e=>{const t={pipeline:{ids:[],name:{}},node:{ids:[],name:{},fullName:{},type:{},tags:{},layer:{},disabled:{},pipelines:{},clicked:null,hovered:null,fetched:{},code:{},docstring:{},parameters:{},filepath:{},datasetType:{}},nodeType:{ids:["task","data","parameters"],name:{data:"Datasets",task:"Nodes",parameters:"Parameters"},disabled:{}},edge:{ids:[],sources:{},targets:{}},layer:{ids:[],name:{},visible:!0},tag:{ids:[],name:{},active:{},enabled:{}}};return"json"===e&&(t.asyncDataSource=!0),(e=>{if(!e)throw new Error("No data provided to Kedro-Viz");if("json"===e)return!1;if(!Array.isArray(e.edges)||!Array.isArray(e.nodes))throw"undefined"===typeof jest&&console.error("Invalid Kedro-Viz data:",e),new Error("Invalid Kedro-Viz data input. Please ensure that your pipeline data includes arrays of nodes and edges");return!0})(e)?(e.nodes.forEach((e=>t=>{const n=t.id;e.node.name[n]||(e.node.ids.push(n),e.node.name[n]=t.name,e.node.fullName[n]=t.full_name||t.name,e.node.type[n]=t.type,e.node.layer[n]=t.layer,e.node.pipelines[n]=t.pipelines?C(t.pipelines,()=>!0):{},e.node.tags[n]=t.tags||[],e.node.code[n]=t.code,e.node.docstring[n]=t.docstring,e.node.parameters[n]=t.parameters,e.node.filepath[n]=t.filepath,e.node.datasetType[n]=t.datasetType)})(t)),e.edges.forEach((e=>({source:t,target:n})=>{const r=((e,t)=>[e,t].join("|"))(t,n);e.edge.ids.includes(r)||(e.edge.ids.push(r),e.edge.sources[r]=t,e.edge.targets[r]=n)})(t)),e.pipelines&&(e.pipelines.forEach((e=>t=>{const n=t.id;e.pipeline.name[n]||(e.pipeline.ids.push(n),e.pipeline.name[n]=t.name)})(t)),t.pipeline.ids.length&&(t.pipeline.main=e.selected_pipeline||t.pipeline.ids[0],t.pipeline.active=t.pipeline.main)),e.tags&&e.tags.forEach((e=>t=>{const n=t.id;e.tag.ids.push(n),e.tag.name[n]=t.name})(t)),e.layers&&e.layers.forEach((e=>t=>{e.layer.ids.push(t),e.layer.name[t]=t})(t)),t):t};const Y={isDefined:e=>Y.names().includes(e),names:()=>Object.keys(L),defaults:()=>Y.names().reduce((e,t)=>Object.assign(e,{[t]:L[t].default}),{})},X=e=>{const t={};let n;try{n=new URL(e||document.location.href).searchParams}catch(r){return console.warn("Feature flags are not supported in this browser"),t}return[...n].forEach(([e,n])=>Y.isDefined(e)?t[e]="true"===n||"1"===n||""===n:null),t},Z=e=>{const t=V();return Object.keys(t).forEach(n=>{e[n]||delete t[n]}),U()(e,t)},K=(e,t)=>{const n=Z(H(e));return t&&(n.pipeline.ids.includes(n.pipeline.active)||(n.pipeline.active=n.pipeline.main)),n},$=e=>{const t=Z({chartSize:{},flags:Y.defaults(),textLabels:!0,theme:"dark",loading:{graph:!1,pipeline:!1,node:!1},visible:{graph:!0,labelBtn:!0,layerBtn:!0,exportBtn:!0,exportModal:!1,sidebar:!0,themeBtn:!0,miniMapBtn:!0,miniMap:!0},zoom:{}});return Object(G.a)(Object(G.a)({},t),{},{flags:Object(G.a)(Object(G.a)({},t.flags),X()),theme:e.theme||t.theme,visible:Object(G.a)(Object(G.a)({},t.visible),e.visible)})};var J=(e={})=>Object(G.a)(Object(G.a)({},$(e)),K(e.data,"json"!==e.data));function Q(e){return{type:"UPDATE_ACTIVE_PIPELINE",pipeline:e}}function ee(e){return{type:"TOGGLE_PIPELINE_LOADING",loading:e}}const te=e=>e.active===e.main?R("main"):R("pipeline",e.active);function ne(e){return{type:"TOGGLE_NODE_CLICKED",nodeClicked:e}}function re(e){return{type:"TOGGLE_NODE_HOVERED",nodeHovered:e}}function oe(e){return{type:"TOGGLE_NODE_DATA_LOADING",loading:e}}function ae(e){return function(){var t=Object(b.a)(y.a.mark((function t(n,r){var o,a,i,s,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.asyncDataSource,i=o.node,n(ne(e)),!a||!e||i.fetched[e]){t.next=10;break}return n(oe(!0)),s=R("nodes",e),t.next=7,P(s);case 7:c=t.sent,n({type:"ADD_NODE_METADATA",data:{id:e,data:c}}),n(oe(!1));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var ie=function(e={},t){switch(t.type){case"TOGGLE_PIPELINE_LOADING":return Object.assign({},e,{pipeline:t.loading});case"TOGGLE_GRAPH_LOADING":return Object.assign({},e,{graph:t.loading});case"TOGGLE_NODE_DATA_LOADING":return Object.assign({},e,{node:t.loading});default:return e}};var se=function(e={},t){const n=t=>Object.assign({},e,t);switch(t.type){case"TOGGLE_NODE_CLICKED":return n({clicked:t.nodeClicked});case"TOGGLE_NODES_DISABLED":return n({clicked:t.nodeIDs.includes(e.clicked)?null:e.clicked,disabled:t.nodeIDs.reduce((e,n)=>Object.assign({},e,{[n]:t.isDisabled}),e.disabled)});case"TOGGLE_NODE_HOVERED":return n({hovered:t.nodeHovered});case"UPDATE_ACTIVE_PIPELINE":return n({clicked:null,hovered:null});case"ADD_NODE_METADATA":{const r=t.data,o=r.id,a=r.data;return n({fetched:Object.assign({},e.fetched,{[o]:!0}),code:Object.assign({},e.code,{[o]:a.code}),filepath:Object.assign({},e.filepath,{[o]:a.filepath}),docstring:Object.assign({},e.docstring,{[o]:a.docstring}),parameters:Object.assign({},e.parameters,{[o]:a.parameters}),datasetType:Object.assign({},e.datasetType,{[o]:a.type})})}default:return e}};var ce=function(e={},t){switch(t.type){case"TOGGLE_TYPE_DISABLED":return Object.assign({},e,{disabled:Object.assign({},e.disabled,{[t.typeID]:t.disabled})});default:return e}};var ue=function(e={},t){switch(t.type){case"UPDATE_ACTIVE_PIPELINE":return Object.assign({},e,{active:t.pipeline});default:return e}};var le=function(e={},t){const n=t=>Object.assign({},e,t),r=e=>t.tagIDs.reduce((n,r)=>(n[r]=t[e],n),{});switch(t.type){case"TOGGLE_TAG_ACTIVE":return n({active:Object.assign({},e.active,r("active"))});case"TOGGLE_TAG_FILTER":return n({enabled:Object.assign({},e.enabled,r("enabled"))});default:return e}};var de=function(e={},t){switch(t.type){case"TOGGLE_GRAPH":return Object.assign({},e,{graph:t.visible});case"TOGGLE_EXPORT_MODAL":return Object.assign({},e,{exportModal:t.visible});case"TOGGLE_LAYERS":return Object.assign({},e,{layers:t.visible});case"TOGGLE_SIDEBAR":return Object.assign({},e,{sidebar:t.visible});case"TOGGLE_MINIMAP":return Object.assign({},e,{miniMap:t.visible});default:return e}};const pe=(e,t,n)=>(r=e,o)=>"undefined"!==typeof n&&o.type===t?o[n]:r;const fe=Object(c.c)({flags:m,graph:N,layer:S,loading:ie,node:se,nodeType:ce,pipeline:ue,tag:le,visible:de,asyncDataSource:pe(!1),edge:pe({}),id:pe(null),chartSize:pe({},"UPDATE_CHART_SIZE","chartSize"),zoom:pe({},"UPDATE_ZOOM","zoom"),fontLoaded:pe(!1,"UPDATE_FONT_LOADED","fontLoaded"),textLabels:pe(!0,"TOGGLE_TEXT_LABELS","textLabels"),theme:pe("dark","TOGGLE_THEME","theme")});var he=(e,t)=>fe(function(e={},t){return"RESET_DATA"===t.type?Object.assign({},e,t.data):e}(e,t),t),ge=n(2),me=n(671);const ve=e=>e.node.ids,ye=Object(ge.a)([ve,e=>e.node.pipelines,e=>e.pipeline.active,e=>e.asyncDataSource],(e,t,n,r)=>r||!n?{}:C(e,e=>!t[e][n])),be=Object(ge.a)([ve,ye],(e,t)=>e.filter(e=>!t[e])),_e=Object(ge.a)([be,e=>e.node.tags],(e,t)=>{const n={};return e.forEach(e=>{t[e].forEach(e=>{n[e]||(n[e]=!0)})}),Object.keys(n)}),we=e=>e.tag.enabled,xe=Object(ge.a)([_e,e=>e.tag.name,e=>e.tag.active,we],(e,t,n,r)=>e.sort().map(e=>({id:e,name:t[e],active:Boolean(n[e]),enabled:Boolean(r[e])}))),Ee=Object(ge.a)([_e,we],(e,t)=>({total:e.length,enabled:e.filter(e=>t[e]).length})),ke=e=>e.node.ids,Oe=Object(ge.a)([ke,e=>e.tag.enabled,Ee,e=>e.node.tags],(e,t,n,r)=>C(e,e=>0!==n.enabled&&(!r[e].length||!r[e].some(e=>t[e])))),je=Object(ge.a)([ke,e=>e.node.disabled,Oe,ye,e=>e.node.type,e=>e.nodeType.disabled],(e,t,n,r,o,a)=>C(e,e=>[t[e],n[e],r[e],a[o[e]]].some(Boolean))),Ne=Object(ge.a)([be,je],(e,t)=>e.filter(e=>!t[e])),Se=Object(ge.a)([Ne,e=>e.node.layer,e=>e.layer.ids,e=>e.layer.visible],(e,t,n,r)=>{if(!r)return[];const o={};var a=!0,i=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){const e=c.value;o[t[e]]=!0}}catch(l){i=!0,s=l}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}return n.filter(e=>o[e])}),Me=Object(ge.a)([e=>e.edge.ids,je,e=>e.edge.sources,e=>e.edge.targets],(e,t,n,r)=>C(e,e=>{const o=n[e],a=r[e];return Boolean(t[o]||t[a])}));var Te=n(97),Ie=n.n(Te);const Le=e=>e.edge.ids,Ae=e=>e.edge.sources,Ce=e=>e.edge.targets,Re=Object(ge.a)([e=>e.node.ids,Le,je,Ae,Ce],(e,t,n,r,o)=>{const a={edgeIDs:[],sources:{},targets:{}},i=e=>{t.forEach(t=>{const s=e[e.length-1];if(r[t]!==s)return;const c=o[t];n[c]?i(e.concat(c)):e.length>1&&((e,t,{edgeIDs:n,sources:r,targets:o})=>{const a=[e,t].join("|");n.includes(a)||(n.push(a),r[a]=e,o[a]=t)})(e[0],c,a)})};return e.some(e=>n[e])&&e.forEach(e=>{n[e]||i([e])}),a}),De=Object(ge.a)([Le,Me,Ae,Ce,Re],(e,t,n,r,o)=>e.filter(e=>!t[e]).concat(o.edgeIDs).map(e=>({id:e,source:n[e]||o.sources[e],target:r[e]||o.targets[e]}))),ze=Object(ge.a)([Ne,Se,e=>e.node.layer],(e,t,n)=>{if(!t.length)return[];const r={};var o=!0,a=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){const e=s.value,t=n[e];r[t]||(r[t]=[]),r[t].push(e)}}catch(u){a=!0,i=u}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}return t.map(e=>r[e])}),Pe=Object(ge.a)([Ne,De,ze,Se],(e,t,n,r)=>{if(!r.length)return{};const o={};var a=!0,i=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){o[c.value]=[]}}catch(L){i=!0,s=L}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}var l=!0,d=!1,p=void 0;try{for(var f,h=t[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){const e=f.value;o[e.source].push(e.target)}}catch(L){d=!0,p=L}finally{try{l||null==h.return||h.return()}finally{if(d)throw p}}for(let A=1;A<n.length;A++){var g=!0,m=!1,v=void 0;try{for(var y,b=n[A-1][Symbol.iterator]();!(g=(y=b.next()).done);g=!0){const e=y.value;var _=!0,w=!1,x=void 0;try{for(var E,k=n[A][Symbol.iterator]();!(_=(E=k.next()).done);_=!0){const t=E.value;o[e].push(t)}}catch(L){w=!0,x=L}finally{try{_||null==k.return||k.return()}finally{if(w)throw x}}}}catch(L){m=!0,v=L}finally{try{g||null==b.return||b.return()}finally{if(m)throw v}}}const O=Ie()(o),j={};for(let A=0;A<O.length;A++){var N=!0,S=!1,M=void 0;try{for(var T,I=O[A][Symbol.iterator]();!(N=(T=I.next()).done);N=!0){j[T.value]=A}}catch(L){S=!0,M=L}finally{try{N||null==I.return||I.return()}finally{if(S)throw M}}}return j}),Ge=e=>e.node.name,Be=e=>e.node.type,Ue=e=>e.fontLoaded,Fe=Object(ge.a)([e=>e.graph.nodes],(e=[])=>e.reduce((e,t)=>(e[t.id]=t,e),{})),Ve=Object(ge.a)([be,e=>e.node.hovered,e=>e.node.tags,e=>e.tag.active],(e,t,n,r)=>C(e,e=>{if(e===t)return!0;const o=n[e].some(e=>r[e]);return Boolean(o)})),qe=Object(ge.a)([be,e=>e.node.clicked,je],(e,t,n)=>C(e,e=>e===t&&!n[e])),We=Object(ge.a)([be,Ge,Be,je,e=>e.node.disabled,Oe,e=>e.nodeType.disabled],(e,t,n,r,o,a,i)=>e.sort((e,n)=>t[e]<t[n]?-1:t[e]>t[n]?1:0).map(e=>({id:e,name:t[e],type:n[e],disabled:r[e],disabled_node:Boolean(o[e]),disabled_tag:a[e],disabled_type:Boolean(i[n[e]])}))),He=Object(ge.a)([We],e=>e.reduce((function(e,t){const n=t.type;return e.hasOwnProperty(n)||(e[n]=[]),e[n].push(t),e}),{})),Ye=Object(ge.a)([be,Ge,Ue],(e,t,n)=>{if(!n)return{};const r={},o=Object(me.a)(document.body).append("svg").attr("class","kedro pipeline-node");return o.selectAll("text").data(e).enter().append("text").text(e=>t[e]).each((function(e){const t=this.getBBox?this.getBBox().width:0;r[e]=t})),o.remove(),r}),Xe=Object(ge.a)([be,Ye,e=>e.textLabels,Be,Ue],(e,t,n,r,o)=>o?C(e,e=>{const o=n?24:28,a=(i=n,s="task"===r[e],i?s?{x:16,y:10}:{x:20,y:10}:s?{x:14,y:14}:{x:16,y:16});var i,s;const c=n?t[e]:0,u=o+c+(n?6:0);return{showText:n,width:u+2*a.x,height:o+2*a.y,textOffset:(u-c)/2-1,iconOffset:-u/2,iconSize:o}}):{}),Ze=Object(ge.a)([Ne,Ge,Be,e=>e.node.fullName,Xe,e=>e.node.layer,Pe,Ue],(e,t,n,r,o,a,i,s)=>s?e.map(e=>Object(G.a)({id:e,name:t[e],label:t[e],fullName:r[e],type:n[e],layer:a[e],rank:i[e]},o[e])):[]),Ke=e=>e.node.clicked,$e=(e,t)=>(e.name||e).localeCompare(t.name||t),Je=Object(ge.a)([Ke],e=>Boolean(e)),Qe={data:e=>"kedro run --to-inputs ".concat(e),task:e=>"kedro run --to-nodes ".concat(e)},et=e=>{const t=Qe[e.type];return t?t(e.fullName):null},tt=Object(ge.a)([Ke,Fe,e=>e.node.tags,e=>e.tag.name,e=>e.pipeline,e=>e.node.filepath,e=>e.node.code,e=>e.node.docstring,e=>e.node.parameters,e=>e.node.datasetType],(e,t={},n,r,o,a,i,s,c,u)=>{const l=t[e];if(!l)return null;const d=c[l.id]&&Object.entries(c[l.id]).map(([e,t])=>"".concat(e,": ").concat(t)),p={node:l,tags:[...n[l.id]].map(e=>r[e]).sort($e),pipeline:o.name[o.active],parameters:d,runCommand:et(l),docstring:s[l.id],code:i[l.id],filepath:a[l.id],datasetType:u[l.id]};return l.sources&&l.targets&&(p.inputs=l.sources.map(e=>t[e.source]).sort($e),p.outputs=l.targets.map(e=>t[e.target]).sort($e)),p}),nt=Object(ge.a)([Ze,De,Se,e=>e.flags.oldgraph,e=>e.fontLoaded],(e,t,n,r,o)=>o?{nodes:e,edges:t,layers:n,oldgraph:r,fontLoaded:o}:null),rt=(e,t,{breakpoint:n,open:r,closed:o})=>e&&t>n?r:o,ot=Object(ge.a)([e=>e.visible.sidebar,Je,e=>e.chartSize],(e,t,n)=>{const r=n.left,o=n.top,a=n.width,i=n.height;if(!a||!i)return{};const s=rt(e,a,I),c=rt(a,t,T);return{left:r,top:o,outerWidth:a,outerHeight:i,height:i,width:a-s-c,sidebarWidth:s,metaSidebarWidth:c}}),at=Object(ge.a)([e=>e.zoom],e=>Object(G.a)({},e)),it=e=>{const t=d()(()=>nt(e.getState()));e.subscribe(t(t=>{var n;e.dispatch((n=t)?function(){var e=Object(b.a)(y.a.mark((function e(t){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(k(!0)),e.next=3,j(n);case 3:return r=e.sent,t(h(!0)),t(k(!1)),e.abrupt("return",t(O(r)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():O(n))}))};function st(e){const t=Object(c.d)(he,e,Object(c.a)(u.a));return it(t),t.subscribe(()=>{var e;e=t.getState(),q({node:{disabled:W(e.node.disabled)},nodeType:{disabled:e.nodeType.disabled},pipeline:{active:e.pipeline.active},layer:{visible:e.layer.visible},textLabels:e.textLabels,theme:e.theme,visible:e.visible,flags:e.flags})}),t}var ct=n(3),ut=n.n(ct),lt=n(12),dt=(n(31),n(101)),pt=n(674),ft=n(13);const ht=Object(ge.a)([e=>e.graph,Se,e=>e.layer.name],({nodes:e,size:t},n,r)=>{if(!e||!t||!e.length||!n.length)return[];const o=t.width,a=t.height,i={};var s=!0,c=!1,u=void 0;try{for(var l,d=e[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){const e=l.value,t=e.nearestLayer||e.layer;if(t){const n=i[t]||(i[t]=[1/0,-1/0]);e.y-e.height<n[0]&&(n[0]=e.y-e.height),e.y+e.height>n[1]&&(n[1]=e.y+e.height)}}}catch(p){c=!0,u=p}finally{try{s||null==d.return||d.return()}finally{if(c)throw u}}return n.map((e,t)=>{const s=i[e]||[0,0],c=i[n[t-1]]||[s[0],s[0]],u=i[n[t+1]]||[s[1],s[1]],l=(c[1]+s[0])/2,d=(s[1]+u[0])/2,p=5*Math.max(o,a);return{id:e,name:r[e],x:(p-o)/-2,y:l,width:p,height:Math.max(d-l,0)}})}),gt=Object(ge.a)([e=>e.node.clicked,e=>e.node.hovered,e=>e.flags.lazy],(e,t,n)=>n?e:e||t),mt=Object(ge.a)([De],e=>{const t={},n={};var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){const e=i.value;t[e.target]||(t[e.target]=[]),t[e.target].push(e.source),n[e.source]||(n[e.source]=[]),n[e.source].push(e.target)}}catch(c){o=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return{sourceEdges:t,targetEdges:n}}),vt=(e,t,n)=>(n[e]||(n[e]=!0,t[e]&&t[e].forEach(e=>vt(e,t,n))),n),yt=Object(ge.a)([mt,gt],({sourceEdges:e,targetEdges:t},n)=>{if(!n)return{};const r={};return vt(n,e,r),r[n]=!1,vt(n,t,r),r});var bt=n(261),_t=n(673),wt=n(672),xt=(e,t,n="")=>Object.keys(t||{}).reduce((n,r)=>{const o=t[r];return"string"!==typeof o&&"number"!==typeof o?"".concat(n," ").concat(e,"--").concat(o?"":"no-").concat(r):"".concat(n," ").concat(e,"--").concat(r,"-").concat((o+"").replace(/\s/g,"-"))},e)+(n?" "+n:"");const Et={data:"M6 7.5C6 5.5 8.7 4 12 4c3.2 0 5.9 1.5 6 3.3V17c0 .2 0 .4-.2.6-1.1 1.6-3 2.3-5.8 2.3s-4.7-.7-5.8-2.3A1 1 0 016 17V7.5zm6 8c-1.6 0-3-.4-4-1v2.2c.7.8 2 1.2 4 1.2s3.3-.4 4-1.2v-2.2c-1 .6-2.4 1-4 1zm0-4.5c-1.5 0-3-.3-4-.9v1.6c.8 1.2 2 1.7 4 1.7s3.3-.5 4-1.7v-1.6c-1 .6-2.5.9-4 .9zm0-5c-1.3 0-2.4.3-3.2.8-.6.3-.8.6-.8.7s.2.4.8.7c.8.5 2 .8 3.2.8s2.4-.3 3.2-.8c.6-.3.8-.6.8-.7s-.2-.4-.8-.7c-.8-.5-2-.8-3.2-.8z",task:"M19.46 4.3l.18.14-1.28 1.54c-2.06-1.71-3.52-1.1-4.55 2.52H16v2h-2.66c-.09.43-.17.89-.25 1.37l-.1.68c-1.2 8.23-4.11 11.46-8.41 8.34l-.19-.14 1.22-1.59c2.58 1.97 4.25.32 5.3-6.22l.1-.68.3-1.76H8v-2h3.78c1.48-5.36 4.12-7.04 7.68-4.2z",parameters:"M8 14v1.5h13v2H8V19H6v-1.5H4v-2h2V14zM18.5 5v1.5H21v2h-2.5V10h-2V8.5H4v-2h12.5V5z"};var kt=({className:e,type:t})=>Et[t]?o.a.createElement("svg",{className:xt("pipeline-node-icon",{type:t},e),viewBox:"0 0 24 24"},o.a.createElement("path",{d:Et[t]})):null;const Ot=Object(_t.a)().x(e=>e.x).y(e=>e.y).curve(wt.a),jt=/\d+\.\d+/g,Nt=e=>parseFloat(e).toFixed(1),St=function(){const e=this.props.layers;this.el.layers=this.el.layerGroup.selectAll(".pipeline-layer").data(e,e=>e.id);const t=this.el.layers.enter().append("rect").attr("class","pipeline-layer");this.el.layers.exit().remove(),this.el.layers=this.el.layers.merge(t),this.el.layers.attr("x",e=>e.x).attr("y",e=>e.y).attr("height",e=>e.height).attr("width",e=>e.width)},Mt=function(){const e=this.props,t=e.chartSize.sidebarWidth,n=void 0===t?0:t,r=e.layers;this.el.layerNameGroup.transition("layer-names-sidebar-width").duration(this.DURATION).style("transform","translateX(".concat(n,"px)")),this.el.layerNames=this.el.layerNameGroup.selectAll(".pipeline-layer-name").data(r,e=>e.id);const o=this.el.layerNames.enter().append("li").attr("class","pipeline-layer-name").style("opacity",0).transition("enter-layer-names").duration(this.DURATION).style("opacity",1);this.el.layerNames.exit().style("opacity",1).transition("exit-layer-names").duration(this.DURATION).style("opacity",0).remove(),this.el.layerNames=this.el.layerNames.merge(o),this.el.layerNames.text(e=>e.name).attr("dy",5)},Tt=e=>e.attr("width",e=>e.width-5).attr("height",e=>e.height-5).attr("x",e=>(e.width-5)/-2).attr("y",e=>(e.height-5)/-2).attr("rx",e=>"task"===e.type?0:e.height/2),It=function(e){const t=this.props,n=t.centralNode,r=t.linkedNodes,o=t.nodeActive,a=t.nodeSelected,i=t.nodes;if(e("nodes")&&(this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-node").data(i,e=>e.id)),!this.el.nodes)return;const s=this.el.nodes,c=this.el.nodes.enter().append("g"),u=this.el.nodes.exit(),l=this.el.nodes.merge(c).merge(u).filter(e=>"undefined"!==typeof e);e("nodes")&&(c.attr("tabindex","0").attr("class","pipeline-node").attr("transform",e=>"translate(".concat(e.x,", ").concat(e.y,")")).attr("data-id",e=>e.id).classed("pipeline-node--parameters",e=>"parameters"===e.type).classed("pipeline-node--data",e=>"data"===e.type).classed("pipeline-node--task",e=>"task"===e.type).on("click",this.handleNodeClick).on("mouseover",this.handleNodeMouseOver).on("mouseout",this.handleNodeMouseOut).on("focus",this.handleNodeMouseOver).on("blur",this.handleNodeMouseOut).on("keydown",this.handleNodeKeyDown),c.attr("opacity",0).transition("show-nodes").duration(this.DURATION).attr("opacity",1),c.append("rect"),c.append("path").attr("class","pipeline-node__icon").attr("d",e=>Et[e.type]),c.append("text").attr("class","pipeline-node__text").text(e=>e.name).attr("text-anchor","middle").attr("dy",5).attr("dx",e=>e.textOffset),u.transition("exit-nodes").duration(this.DURATION).style("opacity",0).remove(),s.transition("exit-nodes").style("opacity",null),this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-node")),e("nodes","nodeActive","nodeSelected","centralNode","linkedNodes")&&l.classed("pipeline-node--active",e=>o[e.id]).classed("pipeline-node--selected",e=>a[e.id]).classed("pipeline-node--faded",e=>n&&!r[e.id]),e("nodes")&&(l.transition("update-nodes").duration(this.DURATION).attr("transform",e=>"translate(".concat(e.x,", ").concat(e.y,")")).on("end",()=>{try{l.sort((e,t)=>e.order-t.order)}catch(e){}}),c.select("rect").call(Tt),s.select("rect").transition("node-rect").duration(e=>e.showText?200:600).call(Tt),l.select(".pipeline-node__icon").style("transition-delay",e=>e.showText?"0ms":"200ms").style("transform",e=>"translate(".concat(e.iconOffset,"px, ").concat(-e.iconSize/2,"px) ")+"scale(".concat(e.iconSize/24,")")),l.select(".pipeline-node__text").style("transition-delay",e=>e.showText?"200ms":"0ms").style("opacity",e=>e.showText?1:0))},Lt=function(e){const t=this.props,n=t.edges,r=t.centralNode,o=t.linkedNodes;if(e("edges")&&(this.el.edges=this.el.edgeGroup.selectAll(".pipeline-edge").data(n,e=>e.id)),!this.el.edges)return;const a=this.el.edges,i=this.el.edges.enter().append("g"),s=this.el.edges.exit(),c=this.el.edges.merge(i).merge(s);e("edges")&&(i.append("path").attr("marker-end",e=>"url(#pipeline-arrowhead)"),i.attr("data-id",e=>e.id).attr("class","pipeline-edge"),i.attr("opacity",0).transition("show-edges").duration(this.DURATION).attr("opacity",1),s.transition("exit-edges").duration(this.DURATION).style("opacity",0).remove(),a.transition("exit-edges").style("opacity",null),c.select("path").transition("update-edges").duration(this.DURATION).attrTween("d",(function(e){let t=e.points&&Ot(e.points).replace(jt,Nt);const n=Object(me.a)(this).attr("d")||t;return Object(bt.interpolatePath)(n,t)})),this.el.edges=this.el.edgeGroup.selectAll(".pipeline-edge")),e("edges","centralNode","linkedNodes")&&c.classed("pipeline-edge--faded",e=>e&&r&&(!o[e.source]||!o[e.target]))};n(463);const At=String.fromCharCode(8203),Ct=({chartSize:e,targetRect:t,visible:n,text:r})=>{const a=e.left,i=e.top,s=e.width,c=e.height,u=e.outerWidth,l=e.sidebarWidth,d=t.left-l>s/2,p=t.top<c/2,f=d?t.left-u:t.left,h=p?t.top+t.height:t.top,g=f-a+t.width/2,m=h-i;return o.a.createElement("div",{className:ut()("pipeline-tooltip",{"pipeline-tooltip--visible":n,"pipeline-tooltip--right":d,"pipeline-tooltip--top":p}),style:{transform:"translate(".concat(g,"px, ").concat(m,"px)")}},o.a.createElement("div",{className:"pipeline-tooltip__text"},(e=>e.replace(/([^\w\s]|[_])/g,"".concat(At,"$1").concat(At)))(r)))};Ct.defaultProps={chartSize:{},targetRect:{},visible:!1,text:""};var Rt=Ct;n(464);class Dt extends r.Component{constructor(e){super(e),this.handleWindowResize=()=>{this.updateChartSize()},this.handleBeforePrint=()=>{const e=this.props.graphSize,t=e.width+2*e.marginx,n=e.height+2*e.marginy;this.el.svg.attr("viewBox","0 0 ".concat(t," ").concat(n))},this.handleAfterPrint=()=>{this.el.svg.attr("viewBox",null)},this.handleNodeClick=e=>{this.props.onLoadNodeData(e.id),dt.c.stopPropagation()},this.handleChartClick=()=>{this.props.onLoadNodeData(null)},this.handleNodeMouseOver=e=>{this.props.onToggleNodeHovered(e.id),this.showTooltip(e)},this.handleNodeMouseOut=()=>{this.props.onToggleNodeHovered(null),this.hideTooltip()},this.handleNodeKeyDown=e=>{13===dt.c.keyCode&&this.handleNodeClick(e),27===dt.c.keyCode&&(this.handleChartClick(),this.handleNodeMouseOut(e))},this.state={tooltip:{visible:!1}},this.DURATION=700,this.containerRef=o.a.createRef(),this.svgRef=o.a.createRef(),this.wrapperRef=o.a.createRef(),this.edgesRef=o.a.createRef(),this.nodesRef=o.a.createRef(),this.layersRef=o.a.createRef(),this.layerNamesRef=o.a.createRef()}componentDidMount(){this.selectD3Elements(),this.updateChartSize(),this.initZoomBehaviour(),this.addGlobalEventListeners(),this.update(),this.props.tooltip?this.showTooltip(null,this.props.tooltip):this.hideTooltip()}componentWillUnmount(){this.removeGlobalEventListeners()}componentDidUpdate(e){this.update(e)}update(e={}){const t=this.props.chartZoom,n=(...t)=>this.changed(t,e,this.props);n("visibleSidebar")&&this.updateChartSize(),n("layers","chartSize")&&(St.call(this),Mt.call(this)),n("edges","centralNode","linkedNodes")&&Lt.call(this,n),n("nodes","centralNode","linkedNodes","nodeActive","nodeSelected")&&It.call(this,n),n("edges","nodes","layers","chartSize")?this.zoomToFit():this.updateZoom(t)}changed(e,t,n){return t&&n&&e.some(e=>t[e]!==n[e])}selectD3Elements(){this.el={svg:Object(me.a)(this.svgRef.current),wrapper:Object(me.a)(this.wrapperRef.current),edgeGroup:Object(me.a)(this.edgesRef.current),nodeGroup:Object(me.a)(this.nodesRef.current),layerGroup:Object(me.a)(this.layersRef.current),layerNameGroup:Object(me.a)(this.layerNamesRef.current)}}updateChartSize(){this.props.onUpdateChartSize(this.containerRef.current.getBoundingClientRect())}addGlobalEventListeners(){window.ResizeObserver?(this.resizeObserver=this.resizeObserver||new window.ResizeObserver(this.handleWindowResize),this.resizeObserver.observe(this.containerRef.current)):window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeprint",this.handleBeforePrint),window.addEventListener("afterprint",this.handleAfterPrint)}removeGlobalEventListeners(){window.ResizeObserver?this.resizeObserver.unobserve(this.containerRef.current):window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeprint",this.handleBeforePrint),window.removeEventListener("afterprint",this.handleAfterPrint)}initZoomBehaviour(){this.zoomBehaviour=Object(ft.a)().interpolate(pt.a).on("zoom",()=>{const e=dt.c.transform,t=e.k,n=e.x,r=e.y,o=this.zoomBehaviour.scaleExtent(),a=Object(lt.a)(o,2),i=a[0],s=void 0===i?0:i,c=a[1],u=void 0===c?1/0:c,l=this.props.chartSize,d=l.sidebarWidth,p=l.metaSidebarWidth,f=this.props.graphSize,h=f.width,g=void 0===h?0:h,m=f.height,v=void 0===m?0:m;this.zoomBehaviour.translateExtent([[-d/t-500,-500],[g+500+p/t,v+500]]),this.el.wrapper.attr("transform",dt.c.transform),this.el.wrapper.classed("pipeline-flowchart__zoom-wrapper--animating",!0),this.el.layerNames&&this.el.layerNames.style("transform",e=>{const n=r+(e.y+e.height/2)*t;return"translateY(".concat(n,"px)")}),this.hideTooltip(),this.props.onUpdateZoom({scale:t,x:n,y:r,applied:!0,transition:!1,minScale:s,maxScale:u})}).on("end",()=>{this.el.wrapper.classed("pipeline-flowchart__zoom-wrapper--animating",!1)}),this.el.svg.call(this.zoomBehaviour).on("dblclick.zoom",null)}updateZoom(e){if(e.applied)return;if(!0===e.reset)return void this.zoomToFit();const t=this.zoomBehaviour,n=Object(ft.c)(this.wrapperRef.current),r=n.k,o=void 0===r?1:r,a=e.scale,i=void 0===a?o:a,s=e.x,c=e.y,u=e.transition||"undefined"===typeof e.transition;if("undefined"!==typeof s&&"undefined"!==typeof c?this.el.svg.call(t.transform,ft.b).call(t.translateTo,s,c).call(t.scaleTo,i):this.el.svg.call(t.scaleTo,i),u){const e=Object(ft.c)(this.wrapperRef.current);this.el.svg.call(t.transform,n).transition("zoom").duration(200).call(t.transform,e)}}zoomToFit(){const e=this.props,t=e.chartSize,n=e.graphSize;let r=1,o=0,a=0;t.width>0&&n.width>0&&(r=Math.min(t.width/n.width,t.height/n.height),o=(t.width-n.width*r)/2+t.sidebarWidth,a=(t.height-n.height*r)/2),this.zoomBehaviour.scaleExtent([.8*r,2]);const i=ft.b.translate(o,a).scale(r),s=Object(ft.c)(this.wrapperRef.current),c=s.k,u=void 0===c?1:c,l=s.x,d=void 0===l?0:l,p=s.y;"undefined"===typeof jest&&(1===u&&0===d&&0===(void 0===p?0:p)?this.el.svg:this.el.svg.transition("zoom").duration(this.DURATION)).call(this.zoomBehaviour.transform,i)}showTooltip(e,t={}){this.setState({tooltip:Object(G.a)({targetRect:dt.c&&dt.c.target.getBoundingClientRect(),text:e&&e.fullName,visible:!0},t)})}hideTooltip(){this.state.tooltip.visible&&this.setState({tooltip:Object(G.a)(Object(G.a)({},this.state.tooltip),{},{visible:!1})})}render(){const e=this.props,t=e.chartSize,n=e.layers,r=e.visibleGraph,a=t.outerWidth,i=void 0===a?0:a,s=t.outerHeight,c=void 0===s?0:s;return o.a.createElement("div",{className:"pipeline-flowchart kedro",ref:this.containerRef,onClick:this.handleChartClick},o.a.createElement("svg",{id:"pipeline-graph",className:"pipeline-flowchart__graph",width:i,height:c,ref:this.svgRef},o.a.createElement("g",{id:"zoom-wrapper",className:ut()("pipeline-zoom-wrapper",{"pipeline-zoom-wrapper--hidden":!r}),ref:this.wrapperRef},o.a.createElement("defs",null,o.a.createElement("marker",{id:"pipeline-arrowhead",className:"pipeline-flowchart__arrowhead",viewBox:"0 0 10 10",refX:"7",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto"},o.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 L 4 5 z"}))),o.a.createElement("g",{className:"pipeline-flowchart__layers",ref:this.layersRef}),o.a.createElement("g",{className:"pipeline-flowchart__edges",ref:this.edgesRef}),o.a.createElement("g",{id:"nodes",className:"pipeline-flowchart__nodes",ref:this.nodesRef}))),o.a.createElement("ul",{className:ut()("pipeline-flowchart__layer-names",{"pipeline-flowchart__layer-names--visible":n.length}),ref:this.layerNamesRef}),o.a.createElement(Rt,Object.assign({chartSize:t},this.state.tooltip)))}}const zt=[],Pt=[],Gt={};var Bt=Object(s.b)((e,t)=>Object(G.a)({centralNode:gt(e),chartSize:ot(e),chartZoom:at(e),edges:e.graph.edges||zt,graphSize:e.graph.size||Gt,layers:ht(e),linkedNodes:yt(e),nodes:e.graph.nodes||Pt,nodeActive:Ve(e),nodeSelected:qe(e),visibleGraph:e.visible.graph,visibleSidebar:e.visible.sidebar},t),(e,t)=>Object(G.a)({onLoadNodeData:t=>{e(ae(t))},onToggleNodeHovered:t=>{e(re(t))},onUpdateChartSize:t=>{e(function(e){return{type:"UPDATE_CHART_SIZE",chartSize:e}}(t))},onUpdateZoom:t=>{e(g(t))}},t))(Dt),Ut=n(262),Ft=n.n(Ut),Vt=n(263),qt=n.n(Vt);n(614);var Wt=Object(s.b)(e=>({asyncDataSource:e.asyncDataSource,pipeline:e.pipeline,theme:e.theme}),e=>({onUpdateActivePipeline:t=>{var n;e((n=t.value,function(){var e=Object(b.a)(y.a.mark((function e(t,r){var o,a,i,s,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r(),a=o.asyncDataSource,i=o.pipeline,!n||n!==i.active){e.next=3;break}return e.abrupt("return");case 3:if(!a){e.next=15;break}return t(ee(!0)),t(h(!1)),s=te({main:i.main,active:n}),e.next=9,P(s).then(K);case 9:(c=e.sent).pipeline.active=n,t(p(c)),t(ee(!1)),e.next=16;break;case 15:t(Q(n));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}}))(({asyncDataSource:e,onUpdateActivePipeline:t,pipeline:n,theme:r,onToggleOpen:a})=>n.ids.length||e?o.a.createElement("div",{className:"pipeline-list"},o.a.createElement(Ft.a,{disabled:!n.ids.length,onOpened:()=>a(!0),onClosed:()=>a(!1),theme:r,width:null,onChanged:t,defaultText:n.name[n.active]||"Default"},n.ids.map(e=>o.a.createElement(qt.a,{key:"pipeline-".concat(e),className:ut()({"pipeline-list__option--active":n.active===e}),value:e,primaryText:n.name[e]})))):null),Ht=n(30),Yt=n.n(Ht),Xt=n(264),Zt=n(265),Kt=n.n(Zt);var $t=Object(s.b)(e=>({theme:e.theme}))(({onUpdateSearchValue:e,searchValue:t,theme:n})=>{const a=Object(r.useRef)(null),i=e=>{const t="f"===e.key||70===e.keyCode,n=e.ctrlKey||e.metaKey;if(t&&n){const t=a.current.querySelector("input");document.activeElement!==t?(t.focus(),e.preventDefault()):t.blur()}};Object(r.useEffect)(()=>(window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)));return o.a.createElement("div",{ref:a,className:"pipeline-nodelist-search",onKeyDown:t=>{("Escape"===t.key||27===t.keyCode)&&(e(""),a.current.querySelector("input").blur())}},o.a.createElement(Kt.a,{onChange:e,value:t,theme:n,placeholder:"Search"}))}),Jt=({className:e})=>o.a.createElement("svg",{className:e,viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M12 5.7c4.4 0 8 5 8 6s-3.6 6-8 6-8-5-8-6 3.6-6 8-6zm0 2a4 4 0 100 8 4 4 0 000-8zm0 2a2 2 0 110 4 2 2 0 010-4z"})),Qt=({className:e})=>o.a.createElement("svg",{className:e,viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M18.6 5.17l1.4 1.4-2.2 2.19C19.18 10.09 20 11.5 20 12c0 1.03-3.58 6-8 6a6.8 6.8 0 01-2.8-.64L6.56 20l-1.4-1.4L18.6 5.17zm-2.8 5.59l-1.92 1.93a2 2 0 01-1.2 1.19l-1.92 1.92a4 4 0 005.04-5.04zM12 6c.85 0 1.68.19 2.45.5l-1.6 1.59a4 4 0 00-4.76 4.76L5.94 15C4.74 13.75 4 12.48 4 12c0-1.06 3.58-6 8-6z"}));const en=Object(r.memo)(({container:e="div",active:t,checked:n,unset:r,children:a,disabled:i,faded:s,visible:c,id:u,label:l,name:d,kind:p,onMouseEnter:f,onMouseLeave:h,onChange:g,onClick:m,selected:v,type:y,visibleIcon:b=Jt,invisibleIcon:_=Qt})=>{const w=n?b:_;return o.a.createElement(e,{className:ut()("pipeline-nodelist__row kedro","pipeline-nodelist__row--kind-".concat(p),{"pipeline-nodelist__row--visible":c,"pipeline-nodelist__row--active":t,"pipeline-nodelist__row--selected":v,"pipeline-nodelist__row--disabled":i,"pipeline-nodelist__row--unchecked":!n}),title:d,onMouseEnter:c?f:null,onMouseLeave:c?h:null},o.a.createElement("button",{className:ut()("pipeline-nodelist__row__text","pipeline-nodelist__row__text--kind-".concat(p)),onClick:m,onFocus:f,onBlur:h,disabled:i,title:a?null:d},y&&o.a.createElement(kt,{className:ut()("pipeline-nodelist__row__type-icon","pipeline-nodelist__row__icon",{"pipeline-nodelist__row__type-icon--faded":s,"pipeline-nodelist__row__type-icon--disabled":i,"pipeline-nodelist__row__type-icon--nested":!a,"pipeline-nodelist__row__type-icon--active":t,"pipeline-nodelist__row__type-icon--selected":v}),type:y}),o.a.createElement("span",{className:ut()("pipeline-nodelist__row__label",{"pipeline-nodelist__row__label--faded":s,"pipeline-nodelist__row__label--disabled":i}),dangerouslySetInnerHTML:{__html:l}})),a,o.a.createElement("label",{htmlFor:u,className:ut()("pipeline-row__toggle","pipeline-row__toggle--kind-".concat(p),{"pipeline-row__toggle--disabled":i,"pipeline-row__toggle--selected":v,"pipeline-row__toggle--not-tag":"tag"!==y})},o.a.createElement("input",{id:u,className:"pipeline-nodelist__row__checkbox",type:"checkbox",checked:n,disabled:i,name:d,onChange:g}),o.a.createElement(w,{"aria-label":d,className:ut()("pipeline-nodelist__row__icon","pipeline-row__toggle-icon","pipeline-row__toggle-icon--kind-".concat(p),{"pipeline-row__toggle-icon--checked":n,"pipeline-row__toggle-icon--unchecked":!n,"pipeline-row__toggle-icon--unset":r,"pipeline-row__toggle-icon--visible":"tag"!==y})})))},(e,t)=>{return n=["active","checked","unset","disabled","faded","visible","selected","label","children"],o=t,!((r=e)&&o&&n.some(e=>r[e]!==o[e]));var n,r,o});var tn=Object(s.b)((e,t)=>Object(G.a)(Object(G.a)({},t),{},{active:"undefined"!==typeof t.active?t.active:Ve(e)[t.id]||!1}))(en),nn=({height:e,total:t,children:n,lazy:o=!0,dispose:a=!1,buffer:i=.5,onChange:s,container:c=(e=>null===e||void 0===e?void 0:e.offsetParent)})=>{const u="undefined"!==typeof window.IntersectionObserver,l=o&&u,d=Object(r.useState)([0,0]),p=Object(lt.a)(d,2),f=p[0],h=p[1],g=Object(r.useRef)([0,0]),m=Object(r.useRef)(),v=Object(r.useRef)(),y=Object(r.useRef)(),b=Object(r.useMemo)(()=>e(0,1),[e]),_=Object(r.useMemo)(()=>e(0,t),[e,t]),w=Object(r.useMemo)(()=>e(0,f[0]),[e,f]),x=Object(r.useMemo)(()=>e(f[1],t),[e,f,t]);if(l){const e=cn(Object(r.useCallback)(()=>{const e=sn(m.current,c(m.current),i,t,b),n=a?e:on(g.current,e);an(g.current,n)||(g.current=n,h(n))},[i,t,b,a,c])),n=Object(r.useMemo)(()=>({threshold:un(t)}),[t]);ln(m,n,e),ln(v,n,e),ln(y,n,e),Object(r.useLayoutEffect)(()=>e(),[t,b,_,e])}const E=Object(r.useMemo)(()=>({listRef:m,upperRef:v,lowerRef:y,total:t,start:l?f[0]:0,end:l?f[1]:t,listStyle:{position:"relative",height:l?_:void 0,paddingTop:l?w:void 0},upperStyle:{position:"absolute",display:l?void 0:"none",height:w,width:"100%",top:"0"},lowerStyle:{position:"absolute",display:l?void 0:"none",height:x,width:"100%",bottom:"0"}}),[l,f,t,m,v,y,_,w,x]);return s&&s(E),n(E)};const rn=(e,t,n,r)=>[Math.max(Math.min(e,r),n),Math.max(Math.min(t,r),n)],on=(e,t)=>[Math.min(e[0],t[0]),Math.max(e[1],t[1])],an=(e,t)=>e[0]===t[0]&&e[1]===t[1],sn=(e,t,n,r,o)=>{if(!e)return[0,0];t||(t=e);const a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=Math.ceil(n*a.height/o);if(a.bottom<0||i.bottom<a.top)return rn(r-s,r,0,r);const c={top:0,bottom:window.innerHeight||document.documentElement.clientHeight};if(a.top>c.bottom||i.top>a.bottom)return rn(0,s,0,r);const u=Math.max(a.top,c.top),l=Math.min(a.bottom,c.bottom),d=Math.floor((u-i.top)/o),p=Math.ceil((l-i.top)/o);return rn(d-s,p+s,0,r)},cn=e=>{const t=Object(r.useRef)();return Object(r.useCallback)(()=>{cancelAnimationFrame(t.current),t.current=requestAnimationFrame(e)},[t,e])},un=e=>0===e?[0]:[...Array.from({length:e},(t,n)=>n/e),1],ln=(e,t,n)=>{const o=Object(r.useRef)();return Object(r.useLayoutEffect)(()=>{e.current&&(o.current&&o.current.disconnect(),o.current=new window.IntersectionObserver(n,t),o.current.observe(e.current),n())},[n,e,t])},dn=({items:e=[],group:t,collapsed:n,onItemClick:r,onItemChange:a,onItemMouseEnter:i,onItemMouseLeave:s})=>o.a.createElement("ul",{className:xt("pipeline-nodelist__children",{closed:n},"pipeline-nodelist__list pipeline-nodelist__list--nested")},e.map(e=>o.a.createElement(tn,{container:"li",key:e.id,id:e.id,kind:t.kind,label:e.highlightedLabel,name:e.name,type:e.type,active:e.active,checked:e.checked,disabled:e.disabled,faded:e.faded,visible:e.visible,selected:e.selected,unset:e.unset,visibleIcon:e.visibleIcon,invisibleIcon:e.invisibleIcon,onClick:()=>r(e),onMouseEnter:()=>i(e),onMouseLeave:()=>s(e),onChange:t=>a(e,!t.target.checked)}))),pn=({items:e=[],group:t,collapsed:n,onItemClick:r,onItemChange:a,onItemMouseEnter:i,onItemMouseLeave:s})=>o.a.createElement(nn,{height:(e,t)=>36.59375*(t-e),total:e.length},({start:c,end:u,total:l,listRef:d,upperRef:p,lowerRef:f,listStyle:h,upperStyle:g,lowerStyle:m})=>o.a.createElement("ul",{ref:d,style:h,className:xt("pipeline-nodelist__children",{closed:n},"pipeline-nodelist__list pipeline-nodelist__list--nested")},o.a.createElement("li",{className:xt("pipeline-nodelist__placeholder-upper",{fade:c!==u&&c>0}),ref:p,style:g}),o.a.createElement("li",{className:xt("pipeline-nodelist__placeholder-lower",{fade:c!==u&&u<l}),ref:f,style:m}),e.slice(c,u).map(e=>o.a.createElement(tn,{container:"li",key:e.id,id:e.id,kind:t.kind,label:e.highlightedLabel,name:e.name,type:e.type,active:e.active,checked:e.checked,disabled:e.disabled,faded:e.faded,visible:e.visible,selected:e.selected,unset:e.unset,visibleIcon:e.visibleIcon,invisibleIcon:e.invisibleIcon,onClick:()=>r(e),onMouseEnter:()=>i(e),onMouseLeave:()=>s(e),onChange:t=>a(e,!t.target.checked)}))));var fn=Object(s.b)((e,t)=>Object(G.a)({lazy:e.flags.lazy},t))(e=>e.lazy?o.a.createElement(pn,e):o.a.createElement(dn,e));var hn=({items:e,group:t,collapsed:n,id:r,name:a,kind:i,checked:s,unset:c,childCount:u,allUnset:l,visibleIcon:d,invisibleIcon:p,onToggleChecked:f,onToggleCollapsed:h,onItemClick:g,onItemChange:m,onItemMouseEnter:v,onItemMouseLeave:y})=>o.a.createElement("li",{className:ut()("pipeline-nodelist__group","pipeline-nodelist__group--type-".concat(r),"pipeline-nodelist__group--kind-".concat(i),{"pipeline-nodelist__group--all-unset":l})},o.a.createElement("h3",{className:"pipeline-nodelist__heading"},o.a.createElement(tn,{id:r,kind:i,name:a,label:"".concat(a," <i>").concat(u,"</i>"),unset:c,checked:s,visibleIcon:d,invisibleIcon:p,onChange:e=>{f(r,!e.target.checked)}},o.a.createElement("button",{"aria-label":"".concat(n?"Show":"Hide"," ").concat(a.toLowerCase()),onClick:()=>h(r),className:ut()("pipeline-type-group-toggle",{"pipeline-type-group-toggle--alt":n})}))),o.a.createElement(fn,{items:e,group:t,collapsed:n,onItemClick:g,onItemChange:m,onItemMouseEnter:v,onItemMouseLeave:y}));const gn=V();var mn=({items:e,sections:t,groups:n,searchValue:a,onToggleGroupChecked:i,onItemClick:s,onItemMouseEnter:c,onItemMouseLeave:u,onItemChange:l})=>{const d=Object(r.useState)(gn.groupsCollapsed||{}),p=Object(lt.a)(d,2),f=p[0],h=p[1],g=e=>{const t=Object.assign({},f,{[e]:!f[e]});h(t),q({groupsCollapsed:t})};return t.map(t=>o.a.createElement("nav",{className:"pipeline-nodelist-section kedro",key:t.name},o.a.createElement("h2",{className:"pipeline-nodelist-section__title"},t.name),o.a.createElement("ul",{className:"pipeline-nodelist__list"},t.types.map(t=>{const r=n[t];return o.a.createElement(hn,{group:r,items:e[r.id]||[],key:r.id,id:r.id,name:r.name,kind:r.kind,checked:r.checked,childCount:r.count,allUnset:r.allUnset,visibleIcon:r.visibleIcon,invisibleIcon:r.invisibleIcon,collapsed:!Boolean(a)&&f[r.id],onToggleCollapsed:g,onToggleChecked:i,onItemClick:s,onItemChange:l,onItemMouseEnter:c,onItemMouseLeave:u})}))))};n(251);var vn=({faded:e,items:t,sections:n,groups:r,searchValue:a,getGroupState:i,onUpdateSearchValue:s,onToggleGroupChecked:c,onItemClick:u,onItemMouseEnter:l,onItemMouseLeave:d,onItemChange:p})=>o.a.createElement("div",{className:ut()("pipeline-nodelist",{"pipeline-nodelist--fade":e})},o.a.createElement($t,{onUpdateSearchValue:s,searchValue:a}),o.a.createElement(Xt.Scrollbars,{className:"pipeline-nodelist-scrollbars",style:{width:"auto"},autoHide:!0,hideTracksWhenNotNeeded:!0},o.a.createElement(mn,{items:t,sections:n,groups:r,searchValue:a,getGroupState:i,onItemClick:u,onItemMouseEnter:l,onItemMouseLeave:d,onItemChange:p,onToggleGroupChecked:c}))),yn=({className:e})=>o.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},o.a.createElement("rect",{x:"8.5",y:"9",width:"5",height:"5",rx:"1",strokeWidth:"1.5"})),bn=({className:e})=>o.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},o.a.createElement("rect",{x:"8.5",y:"9",width:"5",height:"5",rx:"1",strokeWidth:"2"})),_n=({className:e})=>o.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},o.a.createElement("rect",{x:"6.5",y:"10.5",width:"8",height:"1.5"}));const wn=Yt.a.escapeRegExp,xn=Yt.a.getHighlightedText,En=e=>Object.keys(e).reduce((t,n)=>t.concat((t=>e[t].map(e=>e.id))(n)),[]),kn=(e,t)=>{const n=e=>Object(G.a)({highlightedLabel:xn(e.name,t)},e);return Object.keys(e).reduce((t,r)=>Object(G.a)(Object(G.a)({},t),{},{[r]:e[r].map(n)}),{})},On=(e,t)=>{const n=n=>e[n].filter(e=>((e,t)=>{const n=t?new RegExp(wn(t),"gi"):"";return Boolean(e.name.match(n))})(e,t));return Object.keys(e).reduce((e,t)=>Object(G.a)(Object(G.a)({},e),{},{[t]:n(t)}),{})},jn=Object(ge.a)([e=>e.nodes,e=>e.searchValue],(e,t)=>{const n=On(e,t);return{filteredNodes:kn(n,t),nodeIDs:En(n)}}),Nn=Object(ge.a)([e=>e.tags,e=>e.searchValue],(e,t)=>kn(On({tag:e},t),t)),Sn=Object(ge.a)([Nn,e=>e.tagsEnabled],(e,t)=>({tag:e.tag.map(e=>Object(G.a)(Object(G.a)({},e),{},{type:"tag",visibleIcon:yn,invisibleIcon:bn,active:!1,selected:!1,faded:!1,visible:!0,disabled:!1,unset:"undefined"===typeof t[e.id],checked:!0===t[e.id]}))})),Mn=(e,t)=>{const n=Number(e.disabled_tag)-Number(t.disabled_tag),r=e.name.localeCompare(t.name);return 0!==n?n:r},Tn=Object(ge.a)([jn,e=>e.nodeSelected],({filteredNodes:e},t)=>{const n={};for(var r=0,o=Object.keys(e);r<o.length;r++){const a=o[r];n[a]=e[a].map(e=>{const n=!e.disabled_node,r=e.disabled_tag||e.disabled_type;return Object(G.a)(Object(G.a)({},e),{},{visibleIcon:Jt,invisibleIcon:Qt,active:void 0,selected:t[e.id],faded:e.disabled_node||r,visible:!r&&n,unset:!1,checked:n,disabled:r})}).sort(Mn)}return n}),In=Object(ge.a)(()=>Object.keys(A).map(e=>({name:e,types:Object.values(A[e])}))),Ln=Object(ge.a)([e=>e.types,e=>e.items],(e,t)=>{const n={};for(var r=0,o=[...e,{id:"tag"}];r<o.length;r++){const e=o[r],a=t[e.id]||[];if(n[e.id]={type:e,id:e.id,name:e.name,kind:"toggle",visibleIcon:Jt,invisibleIcon:Qt,checked:!e.disabled,count:a.length,allUnset:a.every(e=>e.unset),allChecked:a.every(e=>e.checked)},"tag"===e.id){const t=n[e.id];Object.assign(t,{name:"Tags",kind:"filter",checked:!t.allUnset,visibleIcon:t.allChecked?yn:_n,invisibleIcon:bn})}}return n}),An=Object(ge.a)([Tn,Sn],(e,t)=>Object(G.a)(Object(G.a)({},t),e)),Cn=e=>e.nodeType.ids,Rn=Object(ge.a)([Cn,e=>e.node.ids,e=>e.node.type,je],(e,t,n,r)=>C(e,e=>{const o=t.filter(t=>n[t]===e),a=o.filter(e=>!r[e]);return{total:o.length,visible:a.length}})),Dn=Object(ge.a)([Cn,e=>e.nodeType.name,e=>e.nodeType.disabled,Rn],(e,t,n,r)=>e.map(e=>({id:e,name:t[e],disabled:Boolean(n[e]),nodeCount:r[e]}))),zn=e=>"tag"===e;var Pn=Object(s.b)(e=>({tags:xe(e),tagsEnabled:e.tag.enabled,nodes:He(e),nodeSelected:qe(e),sections:In(e),types:Dn(e)}),e=>({onToggleTagActive:(t,n)=>{e(function(e,t){return{type:"TOGGLE_TAG_ACTIVE",tagIDs:Array.isArray(e)?e:[e],active:t}}(t,n))},onToggleTagFilter:(t,n)=>{e(function(e,t){return{type:"TOGGLE_TAG_FILTER",tagIDs:Array.isArray(e)?e:[e],enabled:t}}(t,n))},onToggleTypeDisabled:(t,n)=>{e(function(e,t){return{type:"TOGGLE_TYPE_DISABLED",typeID:e,disabled:t}}(t,n))},onToggleNodeSelected:t=>{e(ae(t))},onToggleNodeActive:t=>{e(re(t))},onToggleNodesDisabled:(t,n)=>{e(function(e,t){return{type:"TOGGLE_NODES_DISABLED",nodeIDs:e,isDisabled:t}}(t,n))}}))(({faded:e,nodes:t,nodeSelected:n,sections:a,tags:i,tagsEnabled:s,types:c,onToggleNodesDisabled:u,onToggleNodeSelected:l,onToggleNodeActive:d,onToggleTagActive:p,onToggleTagFilter:f,onToggleTypeDisabled:h})=>{const g=Object(r.useState)(""),m=Object(lt.a)(g,2),v=m[0],y=m[1],b=An({nodes:t,tags:i,tagsEnabled:s,nodeSelected:n,searchValue:v}),_=Ln({types:c,items:b}),w=(e,t)=>{const n=1===(b[e.type]||[]).filter(e=>e.checked).length;t&&n?f(i.map(e=>e.id),void 0):f([e.id],!t),l(null),d(null)},x=e=>{Yt.a.handleKeyEvent(e.keyCode,{escape:()=>l(null)})};return Object(r.useEffect)(()=>(window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x))),o.a.createElement(vn,{faded:e,items:b,sections:a,groups:_,searchValue:v,onUpdateSearchValue:y,onToggleGroupChecked:(e,t)=>{if(zn(e)){const t=b[e]||[],n=!t.some(e=>!e.unset)||void 0;f(t.map(e=>e.id),n)}else h(e,t)},onItemClick:e=>{zn(e.type)?w(e,e.checked):e.faded||e.selected?l(null):l(e.id)},onItemMouseEnter:e=>{zn(e.type)?p(e.id,!0):e.visible&&d(e.id)},onItemMouseLeave:e=>{zn(e.type)?p(e.id,!1):e.visible&&d(null)},onItemChange:(e,t)=>{zn(e.type)?w(e,t):(t&&d(null),u([e.id],t))}})});n(639);const Gn=({container:e="li",ariaLabel:t,ariaLive:n,className:r,disabled:a,icon:i,labelText:s,onClick:c,visible:u,active:l})=>{const d=i;return u?o.a.createElement(e,null,o.a.createElement("button",{"aria-label":t,"aria-live":n,className:ut()(r,{"pipeline-icon-toolbar__button":!0,"pipeline-icon-toolbar__button--active":l}),disabled:a,onClick:c},d&&o.a.createElement(d,{className:"pipeline-icon"}),s&&o.a.createElement("span",{className:"pipeline-toolbar__label"},s))):null};Gn.defaultProps={ariaLabel:null,ariaLive:null,disabled:!1,icon:null,labelText:null,onClick:null,visible:!0,active:!1};var Bn=Gn,Un=({className:e})=>o.a.createElement("svg",{className:e,viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.3 3.3l1.4 1.4L9.4 12l7.3 7.3-1.4 1.4L6.6 12z"})),Fn=({className:e})=>o.a.createElement("svg",{className:e,viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2v16a8 8 0 1 0 0-16z"})),Vn=({className:e})=>o.a.createElement("svg",{className:e,viewBox:"0 0 22 20"},o.a.createElement("path",{d:"M22 0v20H7.3L0 10 7.3 0H22zm-6.2 5h-3.6L10 15h2l.3-1.8h3.4L16 15H18L15.8 5zm-1.5 1.7l1 4.7h-2.6l1-4.7h.6z"})),qn=({className:e})=>o.a.createElement("svg",{className:e,viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M5 16v4h14v-4h2v4c0 1-.8 2-1.9 2H5a2 2 0 01-2-2v-4h2zm8-14v11l3.5-3.5L18 11l-6 6-6-6 1.5-1.5L11 13V2h2z"})),Wn=({className:e})=>o.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{d:"M9.97 0l10.09 5-5.04 2.5 5.04 2.5-5.04 2.5 5.04 2.5L10 20 0 15l5-2.5L0 10l5.02-2.5L0 5zM7.23 13.61L4.47 15 10 17.77 15.56 15l-2.79-1.38L10 15zm5.56-4.98L9.99 10 7.26 8.63l-2.77 1.38 3.56 1.77 1.96.95 2.1-1L15.57 10zm-2.82-6.4L4.47 5 10 7.77 15.56 5z"}));n(640);var Hn=Object(s.b)(e=>({disableLayerBtn:!e.layer.ids.length,textLabels:e.textLabels,theme:e.theme,visible:e.visible,visibleLayers:Boolean(Se(e).length)}),e=>({onToggleExportModal:t=>{e(f(t))},onToggleLayers:t=>{e({type:"TOGGLE_LAYERS",visible:Boolean(t)})},onToggleSidebar:t=>{e(function(e){return{type:"TOGGLE_SIDEBAR",visible:e}}(t))},onToggleTextLabels:t=>{e({type:"TOGGLE_TEXT_LABELS",textLabels:Boolean(t)})},onToggleTheme:t=>{e({type:"TOGGLE_THEME",theme:t})}}))(({disableLayerBtn:e,onToggleExportModal:t,onToggleLayers:n,onToggleSidebar:r,onToggleTextLabels:a,onToggleTheme:i,textLabels:s,theme:c,visible:u,visibleLayers:l})=>o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:"pipeline-primary-toolbar kedro"},o.a.createElement(Bn,{ariaLabel:"".concat(u.sidebar?"Hide":"Show"," menu"),className:ut()("pipeline-menu-button","pipeline-menu-button--menu",{"pipeline-menu-button--inverse":!u.sidebar}),onClick:()=>r(!u.sidebar),icon:Un,labelText:"".concat(u.sidebar?"Hide":"Show"," menu")}),o.a.createElement(Bn,{ariaLive:"polite",ariaLabel:"Change to ".concat("light"===c?"dark":"light"," theme"),className:"pipeline-menu-button--theme",onClick:()=>i("light"===c?"dark":"light"),icon:Fn,labelText:"Toggle theme",visible:u.themeBtn}),o.a.createElement(Bn,{ariaLive:"polite",className:"pipeline-menu-button--labels",onClick:()=>a(!s),icon:Vn,labelText:"".concat(s?"Hide":"Show"," text labels"),visible:u.labelBtn}),o.a.createElement(Bn,{ariaLabel:"Export graph as SVG or PNG",className:"pipeline-menu-button--export",onClick:()=>t(!0),icon:qn,labelText:"Export visualisation",visible:u.exportBtn}),o.a.createElement(Bn,{ariaLabel:"Turn data layers ".concat(l?"off":"on"),className:"pipeline-menu-button--layers",onClick:()=>n(!l),icon:Wn,labelText:"".concat(l?"Hide":"Show"," layers"),disabled:e,visible:u.layerBtn})))),Yn=({className:e})=>o.a.createElement("svg",{className:ut()(e,"pipeline-icon--stroke"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o.a.createElement("path",{transform:"translate(-3 -4)",strokeWidth:"2",d:"M20.573 6.875L15.352 8.75l-6-3.75L4 6.875v12.96l5.352-2.085 6 3.75 5.221-2.736zM15.352 8v12.75M9.352 5v12.75"})),Xn=({className:e})=>o.a.createElement("svg",{className:ut()(e,"pipeline-icon--stroke"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},o.a.createElement("path",{transform:"translate(-1 1) rotate(90 11.5 12)",strokeWidth:"2",d:"M11.5 4L11.5 20"}),o.a.createElement("path",{transform:"translate(-1 1)",strokeWidth:"2",d:"M11.5 4L11.5 20"})),Zn=({className:e})=>o.a.createElement("svg",{className:ut()(e,"pipeline-icon--stroke"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},o.a.createElement("path",{transform:"translate(-1 1) rotate(90 11.5 12)",strokeWidth:"2",d:"M11.5 5L11.5 19"})),Kn=({className:e})=>o.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 26"},o.a.createElement("path",{transform:"translate(0 0)",d:"M8.48 2.637V8h.002v.128H6.488V6.207c-1.531 1.457-2.485 3.515-2.485 5.796 0 4.418 3.581 8 8 8 .18 0 .359-.006.536-.018l.001 2c-.179.01-.359.015-.54.015-5.523 0-10-4.477-10-10 0-2.913 1.246-5.536 3.234-7.364H2.997V2.644l5.471-.001.011-.005zM12 2c5.523 0 10 4.477 10 10 0 2.927-1.258 5.56-3.262 7.39l2.29-.002v1.994h-5.485v-.028l-.003.001V19.18l.003-.001v-3.282h1.994v1.882c1.52-1.456 2.466-3.506 2.466-5.776 0-4.419-3.582-8-8-8-.176 0-.35.005-.524.016V2.013C11.652 2.004 11.825 2 12 2z"}));n(641);const $n=({scale:e},t)=>({scale:e*(t||1),applied:!1,transition:!0,reset:0===t});var Jn=Object(s.b)(e=>({visible:e.visible,chartZoom:at(e)}),e=>({onToggleMiniMap:t=>{e({type:"TOGGLE_MINIMAP",visible:t})},onUpdateChartZoom:t=>{e(g(t))}}))(({onToggleMiniMap:e,visible:t,chartZoom:n,onUpdateChartZoom:r})=>{const a=n.scale,i=n.minScale,s=n.maxScale;return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:"pipeline-minimap-toolbar kedro"},o.a.createElement(Bn,{icon:Yn,className:"pipeline-minimap-button pipeline-minimap-button--map",ariaLabel:"Turn minimap ".concat(t.miniMap?"off":"on"),onClick:()=>e(!t.miniMap),labelText:"".concat(t.miniMap?"Hide":"Show"," minimap"),visible:t.miniMapBtn,active:t.miniMap}),o.a.createElement(Bn,{icon:Xn,className:"pipeline-minimap-button pipeline-minimap-button--zoom-in",ariaLabel:"Zoom in",labelText:"Zoom in",visible:t.miniMapBtn,disabled:a>=s,onClick:()=>r($n(n,1.3))}),o.a.createElement(Bn,{icon:Zn,className:"pipeline-minimap-button pipeline-minimap-button--zoom-out",ariaLabel:"Zoom out",labelText:"Zoom out",visible:t.miniMapBtn,disabled:a<=i,onClick:()=>r($n(n,.7))}),o.a.createElement(Bn,{icon:Kn,className:"pipeline-minimap-button pipeline-minimap-button--reset",ariaLabel:"Reset zoom",labelText:"Reset zoom",visible:t.miniMapBtn,onClick:()=>r($n(n,0))}),o.a.createElement("li",null,o.a.createElement("span",{className:"pipeline-minimap-toolbar__scale",title:"Zoom level"},Math.round(100*n.scale)||100,"%"))))});const Qn=function(){const e=this.props.mapSize,t=this.getViewport(),n=t.x,r=t.y,o=t.width,a=t.height,i=Math.max(n,2),s=Math.max(r,2),c=Math.min(n+o,e.width-2),u=Math.min(r+a,e.height-2);this.el.viewport.enter().attr("x",0).attr("y",0),this.el.viewport.attr("transform","translate(".concat(i,", ").concat(s,")")).attr("width",Math.max(0,c-i)).attr("height",Math.max(0,u-s))},er=function(){const e=this.props,t=e.centralNode,n=e.linkedNodes,r=e.nodeActive,o=e.nodeSelected,a=e.nodes;this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-minimap-node").data(a,e=>e.id);const i=this.el.nodes.enter().append("g").attr("class","pipeline-minimap-node");i.attr("transform",e=>"translate(".concat(e.x,", ").concat(e.y,")")).attr("opacity",0),i.append("rect"),this.el.nodes.exit().transition("exit-nodes").duration(this.DURATION).attr("opacity",0).remove(),this.el.nodes=this.el.nodes.merge(i).attr("data-id",e=>e.id).classed("pipeline-minimap-node--active",e=>r[e.id]).classed("pipeline-minimap-node--selected",e=>o[e.id]).classed("pipeline-minimap-node--faded",e=>t&&!n[e.id]),this.el.nodes.transition("update-nodes").duration(this.DURATION).attr("opacity",1).attr("transform",e=>"translate(".concat(e.x,", ").concat(e.y,")")).end().catch(()=>{}),this.el.nodes.select("rect").attr("width",e=>e.width-tr(e)).attr("height",e=>e.height-tr(e)).attr("x",e=>(e.width-tr(e))/-2).attr("y",e=>(e.height-tr(e))/-2)},tr=e=>"task"===e.type?5:16;n(642);class nr extends r.Component{constructor(e){super(e),this.onPointerEnter=()=>{this.isPointerInside=!0},this.onPointerLeave=()=>{this.isPointerInside=!1},this.onPointerUpGlobal=()=>{this.isPointerDown=!1,this.isPointerInside=!1},this.onPointerDown=e=>{this.isPointerDown=!0,this.isPointerInside=!0,this.onPointerMove(e,!0)},this.onPointerWheel=e=>{const t=this.props.chartZoom.scale,n=void 0===t?1:t;this.props.onUpdateChartZoom({scale:n-(e.deltaY||0)*n*this.ZOOM_RATE,applied:!1,transition:!1})},this.onPointerWheelGlobal=e=>{this.containerRef.current.contains(e.target)&&e.preventDefault()},this.onPointerMove=(e,t=!1)=>{if(this.isPointerDown&&this.isPointerInside){const n=Number(new Date);if(n-this.lastTransitionTime<this.TRANSITION_WAIT)return;const r=this.props.mapSize,o=r.width,a=r.height,i=this.props.graphSize,s=i.width,c=i.height,u=Object(ft.c)(this.wrapperRef.current).k,l=void 0===u?1:u,d=this.svgRef.current.getBoundingClientRect(),p=(e.clientX-d.x)/o*(o/l)-.5*(o/l-s),f=(e.clientY-d.y)/a*(a/l)-.5*(a/l-c);this.props.onUpdateChartZoom({x:p,y:f,applied:!1,transition:t}),t&&(this.lastTransitionTime=n)}},this.DURATION=700,this.TRANSITION_WAIT=200,this.ZOOM_RATE=.0025,this.isPointerDown=!1,this.isPointerInside=!1,this.lastTransitionTime=0,this.containerRef=o.a.createRef(),this.svgRef=o.a.createRef(),this.wrapperRef=o.a.createRef(),this.nodesRef=o.a.createRef(),this.viewportRef=o.a.createRef(),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerEnter=this.onPointerEnter.bind(this),this.onPointerLeave=this.onPointerLeave.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerWheel=this.onPointerWheel.bind(this),this.onPointerWheelGlobal=this.onPointerWheelGlobal.bind(this),this.onPointerUpGlobal=this.onPointerUpGlobal.bind(this)}componentDidMount(){this.selectD3Elements(),this.initZoomBehaviour(),this.addGlobalEventListeners(),this.update()}componentWillUnmount(){this.removeGlobalEventListeners()}addGlobalEventListeners(){window.addEventListener("wheel",this.onPointerWheelGlobal,{passive:!1}),window.addEventListener(or("pointerup"),this.onPointerUpGlobal)}removeGlobalEventListeners(){window.removeEventListener("wheel",this.onPointerWheelGlobal),window.removeEventListener(or("pointerup"),this.onPointerUpGlobal)}componentDidUpdate(e){this.update(e)}update(e={}){const t=this.props,n=t.visible,r=t.chartZoom;if(n){const t=(...t)=>this.changed(t,e,this.props);t("visible","nodes","centralNode","linkedNodes","nodesActive","nodeSelected")&&er.call(this),t("visible","chartZoom")&&r.applied&&Qn.call(this),t("visible","nodes","textLabels","chartSize")&&this.zoomToFit()}}changed(e,t,n){return t&&n&&e.some(e=>t[e]!==n[e])}selectD3Elements(){this.el={svg:Object(me.a)(this.svgRef.current),wrapper:Object(me.a)(this.wrapperRef.current),nodeGroup:Object(me.a)(this.nodesRef.current),viewport:Object(me.a)(this.viewportRef.current)}}initZoomBehaviour(){this.zoomBehaviour=Object(ft.a)().filter(()=>!1).interpolate(pt.a).on("zoom",()=>{this.el.wrapper.attr("transform",dt.c.transform)}),this.el.svg.call(this.zoomBehaviour)}zoomToFit(){const e=this.props,t=e.mapSize,n=e.graphSize;let r=1,o=0,a=0;t.width>0&&n.width>0&&(r=Math.min((t.width-rr)/n.width,(t.height-rr)/n.height),o=(t.width-n.width*r)/2,a=(t.height-n.height*r)/2);const i=ft.b.translate(o,a).scale(r),s=Object(ft.c)(this.wrapperRef.current),c=s.k,u=void 0===c?1:c,l=s.x,d=void 0===l?0:l,p=s.y;"undefined"===typeof jest&&(1===u&&0===d&&0===(void 0===p?0:p)?this.el.svg:this.el.svg.transition("zoom").duration(this.DURATION)).call(this.zoomBehaviour.transform,i)}getViewport(){const e=this.props,t=e.chartZoom,n=e.chartSize,r=Object(ft.c)(this.wrapperRef.current),o=r.k,a=r.x,i=r.y,s=o/t.scale,c=n.width*s,u=n.height*s;return{x:a-(t.x-n.sidebarWidth)*s,y:i-t.y*s,width:c,height:u}}render(){const e=this.props.mapSize,t=e.width,n=e.height,r={transform:"translate(calc(-100% + ".concat(t,"px), -100%)")},a=or,i={onWheel:this.onPointerWheel,[a("onPointerEnter")]:this.onPointerEnter,[a("onPointerLeave")]:this.onPointerLeave,[a("onPointerDown")]:this.onPointerDown,[a("onPointerMove")]:this.onPointerMove};return o.a.createElement("div",{className:ut()("pipeline-minimap-container",{"pipeline-minimap-container--visible":this.props.visible}),style:this.props.visible?r:{}},o.a.createElement("div",Object.assign({className:"pipeline-minimap kedro",ref:this.containerRef},i),o.a.createElement("svg",{id:"pipeline-minimap-graph",className:"pipeline-minimap__graph",width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),ref:this.svgRef},o.a.createElement("g",{id:"zoom-wrapper",ref:this.wrapperRef},o.a.createElement("g",{id:"minimap-nodes",className:"pipeline-minimap__nodes",ref:this.nodesRef})),o.a.createElement("rect",{className:"pipeline-minimap__viewport",ref:this.viewportRef}))))}}const rr=32,or=e=>window.PointerEvent?e:e.replace("pointer","mouse").replace("Pointer","Mouse"),ar=e=>{const t=e.graph.size||{},n=t.width||0,r=t.height||0;if(n>0&&r>0){const e=n*(220/r);return{width:Math.min(Math.max(e,218),327),height:220}}return{width:218,height:220}},ir=[],sr={};var cr=Object(s.b)((e,t)=>Object(G.a)({visible:e.visible.miniMap,mapSize:ar(e),centralNode:gt(e),chartSize:ot(e),chartZoom:at(e),graphSize:e.graph.size||sr,nodes:e.graph.nodes||ir,linkedNodes:yt(e),nodeActive:Ve(e),nodeSelected:qe(e),textLabels:e.textLabels},t),(e,t)=>Object(G.a)({onUpdateChartZoom:t=>{e(g(t))}},t))(nr);n(643);var ur=Object(s.b)(e=>({visible:e.visible.sidebar}))(({visible:e})=>{const t=Object(r.useState)(!1),n=Object(lt.a)(t,2),a=n[0],i=n[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ut()("pipeline-sidebar",{"pipeline-sidebar--visible":e})},o.a.createElement("div",{className:"pipeline-ui"},o.a.createElement(Wt,{onToggleOpen:i}),o.a.createElement(Pn,{faded:a})),o.a.createElement("nav",{className:"pipeline-toolbar"},o.a.createElement(Hn,null),o.a.createElement(Jn,null)),o.a.createElement(cr,null)))}),lr=({className:e})=>o.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M17 1v1h4v16h-4v4H3V6h4V2h4V1h6zM7 8H5v12h10v-2H7V8zm4-4H9v12h10V4h-2v1h-6V4z"})),dr=({className:e})=>o.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));n(96);var pr=({container:e="span",className:t,value:n,kind:r,empty:a})=>o.a.createElement(e,{title:n,className:xt("pipeline-metadata__value",{kind:r},t)},n||0===n?n:a);var fr=({property:e,values:t=[],kind:n="text",empty:a="-",inline:i=!0,commas:s=!0,limit:c=!1})=>{const u=Object(r.useState)(!1),l=Object(lt.a)(u,2),d=l[0],p=l[1],f=!d&&c?t.slice(0,c):t,h=t.length-f.length;return t.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:xt("pipeline-metadata__value-list",{inline:i,commas:s})},f.map((t,r)=>o.a.createElement("li",{key:r},o.a.createElement(pr,{value:e?t[e]:t,kind:n,empty:a})))),h>0?o.a.createElement("button",{className:"pipeline-metadata__value-list-expand","aria-expanded":d,onClick:()=>p(!0)},"+ ",h," more"):null):o.a.createElement(pr,{empty:a})};var hr=({label:e,property:t,value:n,kind:r="text",empty:a="-",visible:i=!0,inline:s=!0,commas:c=!0,limit:u=!1,children:l})=>{const d=Array.isArray(n);return i&&o.a.createElement(o.a.Fragment,null,o.a.createElement("dt",{className:"pipeline-metadata__label"},e),o.a.createElement("dd",{className:"pipeline-metadata__row","data-label":e},d&&o.a.createElement(fr,{property:t,inline:s,commas:c,kind:r,empty:a,values:n,limit:u}),!d&&!l&&o.a.createElement(pr,{value:n,kind:r,empty:a}),l))};var gr=Object(s.b)((e,t)=>Object(G.a)({visible:Je(e),metadata:tt(e)},t),e=>({onToggleNodeSelected:t=>{e(ne(t))}}))(({visible:e=!0,metadata:t,onToggleNodeSelected:n})=>{var a;const i=Object(r.useState)(!1),s=Object(lt.a)(i,2),c=s[0],u=s[1],l="task"===(null===t||void 0===t?void 0:t.node.type),d="parameters"===(null===t||void 0===t?void 0:t.node.type),p="data"===(null===t||void 0===t?void 0:t.node.type);return t?o.a.createElement("div",{className:xt("pipeline-metadata",{visible:e},"kedro")},o.a.createElement("div",{className:"pipeline-metadata__header"},o.a.createElement(kt,{className:"pipeline-metadata__icon",type:t.node.type}),o.a.createElement("h2",{className:"pipeline-metadata__title"},t.node.name),o.a.createElement(Bn,{container:o.a.Fragment,ariaLabel:"Close Metadata Panel",className:"pipeline-metadata__close-button",icon:dr,onClick:()=>{n(null)}})),o.a.createElement("dl",{className:"pipeline-metadata__list"},o.a.createElement(hr,{label:"Type:",value:t.node.type}),o.a.createElement(hr,{label:"Dataset Type:",visible:p,kind:"type",value:t.datasetType}),o.a.createElement(hr,{label:"File Path:",kind:"path",value:t.filepath}),o.a.createElement(hr,{label:"Parameters (".concat((null===(a=t.parameters)||void 0===a?void 0:a.length)||"-","):"),visible:d||l,commas:!1,inline:!1,value:t.parameters,limit:10}),o.a.createElement(hr,{label:"Inputs:",property:"name",visible:l,value:t.inputs}),o.a.createElement(hr,{label:"Outputs:",property:"name",visible:l,value:t.outputs}),o.a.createElement(hr,{label:"Tags:",kind:"token",commas:!1,value:t.tags}),o.a.createElement(hr,{label:"Pipeline:",visible:Boolean(t.pipeline),value:t.pipeline}),o.a.createElement(hr,{label:"Run Command:",visible:Boolean(t.runCommand)},o.a.createElement("div",{className:"pipeline-metadata__toolbox-container"},o.a.createElement(pr,{container:"code",className:xt("pipeline-metadata__run-command-value",{visible:!c}),value:t.runCommand}),window.navigator.clipboard&&o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:xt("pipeline-metadata__copy-message",{visible:c})},"Copied to clipboard."),o.a.createElement("ul",{className:"pipeline-metadata__toolbox"},o.a.createElement(Bn,{ariaLabel:"Copy run command to clipboard.",className:"pipeline-metadata__copy-button",icon:lr,onClick:()=>{window.navigator.clipboard.writeText(t.runCommand),u(!0),setTimeout(()=>u(!1),1500)}}))))),o.a.createElement(hr,{label:"Description (docstring):",visible:l,value:t.docstring}))):o.a.createElement("div",{className:"pipeline-metadata kedro"})}),mr=n(266),vr=n.n(mr),yr=n(102),br=n.n(yr),_r=n(157);var wr=({format:e,theme:t,graphSize:n,mockFn:r})=>{const o={png:_r.b,svg:_r.a},a=r||o[e],i=document.querySelector("#pipeline-graph"),s=i.parentNode.appendChild(i.cloneNode(!0));s.classList.add("kedro","kui-theme--".concat(t),"pipeline-graph--export");let c=n.width+2*n.marginx,u=n.height+2*n.marginy;if(s.setAttribute("viewBox","0 0 ".concat(c," ").concat(u)),s.querySelector("#zoom-wrapper").removeAttribute("transform"),"png"===e){const e=5e3;c=Math.min(c,e),u=Math.min(u,e*(u/c))}s.setAttribute("width",c),s.setAttribute("height",u);const l=document.createElement("style");l.innerHTML="svg"===e?"@import url(https://fonts.googleapis.com/css?family=Titillium+Web:400);":'.kedro {\n      font-family: "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif;\n      letter-spacing: -0.4px;\n    }',s.prepend(l),a(s,"kedro-pipeline",{css:"internal"}),i.parentNode.removeChild(s)};n(648);var xr=Object(s.b)(e=>({graphSize:e.graph.size||{},visible:e.visible,theme:e.theme}),e=>({onToggle:t=>{e(f(t))}}))(({graphSize:e,theme:t,onToggle:n,visible:r})=>r.exportBtn?o.a.createElement(vr.a,{title:"Export pipeline visualisation",onClose:()=>n(!1),theme:t,visible:r.exportModal},o.a.createElement("div",{className:"pipeline-icon-modal"},o.a.createElement(br.a,{theme:t,onClick:()=>{wr({format:"png",theme:t,graphSize:e}),n(!1)}},"Download PNG"),o.a.createElement(br.a,{theme:t,onClick:()=>{wr({format:"svg",theme:t,graphSize:e}),n(!1)}},"Download SVG"))):null);n(649);const Er="M11.4 90.3q-1.4-2.4 0-4.7l42.3-73.3q1.3-2.3 4-2.3h84.6q2.7 0 4 2.3l42.4 73.3q1.3 2.3 0 4.7l-42.3 73.2q-1.4 2.4-4.1 2.4H57.7q-2.7 0-4-2.4z";var kr=({className:e,visible:t})=>o.a.createElement("svg",{className:ut()(e,"pipeline-loading-icon",{"pipeline-loading-icon--visible":t}),viewBox:"0 0 200 180"},o.a.createElement("path",{d:Er}),o.a.createElement("path",{d:Er}));const Or=Object(ge.a)([e=>e.loading.graph,e=>e.loading.pipeline,e=>!e.fontLoaded,e=>e.loading.node],(e,t,n,r)=>e||t||n||r);n(650);var jr=Object(s.b)(e=>({loading:Or(e),theme:e.theme}))(({loading:e,theme:t})=>o.a.createElement("div",{className:ut()("kedro-pipeline",{"kui-theme--dark":"dark"===t,"kui-theme--light":"light"===t})},o.a.createElement("h1",{className:"pipeline-title"},"Kedro-Viz"),o.a.createElement(ur,null),o.a.createElement(gr,null),o.a.createElement("div",{className:"pipeline-wrapper"},o.a.createElement(Bt,null),o.a.createElement(kr,{className:"pipeline-wrapper__loading",visible:e})),o.a.createElement(xr,null))),Nr=(n(651),n(267)),Sr=n.n(Nr);n(653);class Mr extends o.a.Component{constructor(e){super(e);const t=J(e);this.store=st(t)}componentDidMount(){"json"===this.props.data&&this.store.dispatch(function(){var e=Object(b.a)(y.a.mark((function e(t,n){var r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n().asyncDataSource){e.next=3;break}return e.abrupt("return");case 3:return t(ee(!0)),r=R("main"),e.next=7,P(r).then(e=>K(e,!0));case 7:if(o=e.sent,!((a=o.pipeline).ids.length&&a.main&&a.active&&a.active!==a.main)){e.next=13;break}return r=te(o.pipeline),e.next=12,P(r).then(K);case 12:o=e.sent;case 13:t(p(o)),t(ee(!1));case 15:case"end":return e.stop()}var a}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.loadWebFonts(),this.announceFlags(this.store.getState().flags)}componentDidUpdate(e){e.data!==this.props.data&&this.updatePipelineData()}announceFlags(e){const t=(e=>{const t=Y.names();if(t.length>0){let n="Experimental features \ud83c\udfc4\u200d\u2642\ufe0f\n";return t.forEach(t=>{if(L[t].private)return;const r=e[t],o=r?"Enabled":"Disabled",a=r?"\ud83d\udfe2":"\u26aa\ufe0f",i=L[t].icon,s=L[t].description;n+="\n".concat(a," ").concat(i,' "').concat(t,'" \xb7 ').concat(s," \xb7 ").concat(o)}),n+="\n\nSee docs on flags for more info \ud83d\udcd6",n+="\nhttps://github.com/quantumblacklabs/kedro-viz#flags",n}})(e);t&&"undefined"===typeof jest&&console.info(t)}loadWebFonts(){const e=()=>{this.store.dispatch({type:"UPDATE_FONT_LOADED",fontLoaded:!0})};Sr()({active:e,inactive:e})}updatePipelineData(){const e=K(this.props.data,!0);this.store.dispatch(p(e))}render(){return this.props.data?o.a.createElement(s.a,{store:this.store},o.a.createElement(jr,null)):null}}var Tr=Mr,Ir=n(268),Lr=n.n(Ir),Ar=(n(654),n(269)),Cr=n.n(Ar),Rr=n(270),Dr=n.n(Rr);class zr extends o.a.Component{constructor(e){super(e),this.state={play:!1},"undefined"===typeof jest&&console.info("Konami code is supported"),this.audio=new Audio(Cr.a),this.audio.loop=!0,this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidMount(){(new Lr.a).listen(this.toggleState.bind(this)),document.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){this.toggleAudio(),this.toggleCSS()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),document.body.classList.remove("easter-theme")}handleKeyDown(e){27===e.keyCode&&this.state.play&&this.setState({play:!1})}toggleState(){this.setState({play:!this.state.play})}toggleAudio(){this.state.play?this.audio.play():this.audio.pause()}toggleCSS(){this.state.play?document.body.classList.add("easter-theme"):document.body.classList.remove("easter-theme")}render(){return this.state.play?o.a.createElement("div",{className:"easter-egg"},o.a.createElement("img",{src:Dr.a,alt:"",width:"500",height:"480"})):null}}var Pr=zr,Gr=n(271),Br=n.n(Gr);const Ur=()=>{let e,t;try{e=new URL(document.location.href),t=e.searchParams.get("seed")}catch(n){return void console.warn("Random data seeding is not supported in this browser")}return t||(t=(e=>{const t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")})(30),e.searchParams.set("seed",t)),"undefined"===typeof jest&&console.info("%cRandom data seed: ".concat(t,"\nTo reuse this layout, visit ").concat(e.toString()),"font-weight: bold"),t},Fr=e=>Array.from(Array(e).keys()),Vr="lorem ipsum dolor sit amet consectetur adipiscing elit vestibulum id turpis nunc nulla vitae diam dignissim fermentum elit sit amet viverra libero quisque condimentum pellentesque convallis sed consequat neque ac rhoncus finibus".split(" ");var qr=()=>{const e=Ur(),t=Br()(e),n=e=>Math.floor(t()*e),r=e=>Math.ceil(t()*e),o=e=>e[n(e.length)];return{random:t,randomIndex:n,randomNumber:r,randomNumberBetween:(e,t)=>r(t-e)+e,getRandom:o,getRandomName:(e,t="_")=>Fr(e).map(()=>o(Vr)).join(t),getRandomSelection:(e,n)=>{const r=new Array(n);let o=e.length;const a=new Array(o);if(n>o)return e;for(;n--;){var i=Math.floor(t()*o);r[n]=e[i in a?a[i]:i],a[i]=--o in a?a[o]:o}return r}}};const Wr=["Raw","Intermediate","Primary","Feature","Model Input","Model Output"];class Hr{constructor(){this.utils=qr(),this.pipelines=this.generatePipelines(),this.rankCount=this.getRankCount(),this.rankLayers=this.getRankLayers(),this.tags=this.generateTags(),this.nodes=this.generateNodes(),this.edges=this.generateEdges(),this.update(),this.finalise()}generatePipelines(){const e=["Default"],t=this.utils.randomNumberBetween(2,15);for(let n=1;n<t;n++)e.push(this.utils.getRandomName(this.utils.randomNumber(4)," "));return e.filter(D)}getRankCount(){let e=this.utils.randomNumberBetween(10,50);return!e%2&&(e+=1),e}getRankLayers(){const e=C(Wr,()=>0);for(let n=0;n<this.rankCount;n++)e[this.utils.getRandom(Wr)]++;const t={};for(let n=0,r=0;n<this.rankCount;n++){for(;e[Wr[r]]<1;)r++;t[n]=Wr[r],e[Wr[r]]--}return t}generateTags(){const e=this.utils.randomNumber(20);return Fr(e).map(()=>this.utils.getRandomName(this.utils.randomNumber(5))).filter(D)}generateNodes(){const e=[];for(let t=0;t<this.rankCount;t++){const n=this.getRankNodeCount(t);for(let r=0;r<n;r++){const n=this.createNode(r,t);e.push(n)}}return e}getRankNodeCount(){return Math.min(1/this.utils.random(),10)}getType(e){return e.rank%2?"task":!e._sources.length&&this.utils.random()<.2?"parameters":"data"}createNode(e,t){const n=this.rankLayers[t];return{id:"".concat(n,"_").concat(t,"_").concat(e),name:null,full_name:null,type:null,rank:t,layer:n,pipelines:this.getNodePipelines(),tags:this.getRandomTags(),_sources:[],_targets:[]}}getNodeName(e){const t=this.utils.getRandomName(this.utils.randomNumber(10)," ");return"parameters"===e?"Parameters ".concat(t):t}getNodePipelines(){return this.pipelines.reduce((e,t,n)=>0===n||this.utils.randomIndex(2)?e.concat(t):e,[])}getRandomTags(){return this.utils.getRandomSelection(this.tags,this.utils.randomNumber(this.tags.length))}getNodesByRank(){const e={};var t=!0,n=!1,r=void 0;try{for(var o,a=this.nodes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){const t=o.value;e[t.rank]=e[t.rank]||[],e[t.rank].push(t)}}catch(i){n=!0,r=i}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}generateEdges(){const e=[],t=this.utils.randomNumberBetween(100,200),n=this.getNodesByRank(),r=Object.keys(n).map(e=>parseFloat(e)).sort((e,t)=>e-t),o=e=>{const t=r[e],o=n[t];return o[this.utils.randomIndex(o.length)]};for(let a=0;a<t;a+=1){const t=this.utils.randomIndex(r.length-1),n=o(t),a=r.length-1-t,i=Math.round(.5/this.utils.random()),s=o(t+Math.min(i,a)),c={source:n.id,target:s.id,_sourceNode:n,_targetNode:s};e.push(c),n._targets.push(c),s._sources.push(c)}return e}activeNodes(){const e={},t=e=>e._sources.length+e._targets.length;var n=!0,r=!1,o=void 0;try{for(var a,i=this.edges[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){const n=a.value;t(n._sourceNode)+t(n._targetNode)>2&&(e[n._sourceNode.id]=n._sourceNode,e[n._targetNode.id]=n._targetNode)}}catch(s){r=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return Object.values(e)}activeTags(){return this.nodes.reduce((e,t)=>t.tags?e.concat(t.tags):e,[]).filter(D).map(e=>({name:e,id:e}))}activeEdges(){const e=C(this.nodes.map(e=>e.id),()=>!0);return this.edges.filter(t=>e[t.target]&&e[t.source])}update(){const e={};var t=!0,n=!1,r=void 0;try{for(var o,a=this.nodes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){e[o.value.id]=[]}}catch(v){n=!0,r=v}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var i=!0,s=!1,c=void 0;try{for(var u,l=this.edges[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){const t=u.value;e[t.source].push(t.target)}}catch(v){s=!0,c=v}finally{try{i||null==l.return||l.return()}finally{if(s)throw c}}const d=Ie()(e);for(let y=0;y<d.length;y++){var p=!0,f=!1,h=void 0;try{for(var g,m=d[y][Symbol.iterator]();!(p=(g=m.next()).done);p=!0){const e=g.value,t=this.nodes.find(t=>t.id===e);t.rank=y,t.type=this.getType(t),t.name=this.getNodeName(t.type),t.full_name="".concat(t.layer,"_").concat(t.type,"_").concat(t.rank,"_").concat(t.name).replace(/\s/g,"_")}}catch(v){f=!0,h=v}finally{try{p||null==m.return||m.return()}finally{if(f)throw h}}}}finalise(){this.nodes=this.activeNodes(),this.tags=this.activeTags(),this.edges=this.activeEdges();var e=!0,t=!1,n=void 0;try{for(var r,o=this.nodes[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){const e=r.value;delete e._sources,delete e._targets}}catch(l){t=!0,n=l}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}var a=!0,i=!1,s=void 0;try{for(var c,u=this.edges[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){const e=c.value;delete e._targetNode,delete e._sourceNode}}catch(l){i=!0,s=l}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}}all(){return{edges:this.edges,layers:Wr,nodes:this.nodes,pipelines:this.pipelines.map(e=>({id:e,name:e})),tags:this.tags}}}var Yr=()=>(new Hr).all(),Xr=n(272),Zr=n(273);var Kr=()=>(e=>{switch(e){case"animals":return Xr;case"demo":return Zr;case"random":return Yr();case"json":return e;default:throw new Error("Unexpected data source value '".concat(e,"'. Your input should be one of the following values: 'animals', 'demo', 'json', or 'random'"))}})((()=>{const e=document.location.search.match(/data=(\w+)/),t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATA_SOURCE,n="quantumblacklabs.github.io"===document.location.host;return e?encodeURIComponent(e[1]):t||(n?"demo":"json")})());n(663);const $r=()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Tr,{data:Kr()}),o.a.createElement(Pr,null));i.a.render(o.a.createElement($r,null),document.getElementById("root"))},665:function(e,t,n){"use strict";n.r(t),n.d(t,"graphNew",(function(){return z})),n.d(t,"graphDagre",(function(){return P}));var r=n(1),o=n(156),a=n.n(o);const i=.5*Math.PI,s=(e,t)=>Math.round(e/t)*t,c=(e,t)=>Math.abs(e-t),u=(e,t)=>Math.atan2(e.y-t.y,e.x-t.x),l=e=>e.x-.5*e.width,d=e=>e.x+.5*e.width,p=e=>e.y-.5*e.height,f=e=>e.y+.5*e.height,h=e=>{const t={};var n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){const e=a.value;t[e.y]=t[e.y]||[],t[e.y].push(e)}}catch(h){r=!0,o=h}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}const s=Object.keys(t).map(e=>parseFloat(e));s.sort((e,t)=>e-t);const c=s.map(e=>t[e]);for(let m=0;m<c.length;m+=1){c[m].sort((e,t)=>g(e.x,t.x,e.id,t.id));var u=!0,l=!1,d=void 0;try{for(var p,f=c[m][Symbol.iterator]();!(u=(p=f.next()).done);u=!0){p.value.row=m}}catch(h){l=!0,d=h}finally{try{u||null==f.return||f.return()}finally{if(l)throw d}}}return c},g=(e,t,...n)=>{const r="string"===typeof e?e.localeCompare(t):e-t;return 0!==r||0===n.length?r:g(...n)},m=(e,t,n,r,o,a)=>{const i=o-n,s=a-r,c=(d=1,(u=((e-n)*i+(t-r)*s)/(i*i+s*s||1))<(l=0)?l:u>d?d:u);var u,l,d;return{x:n+i*c,y:r+s*c,ax:n,ay:r,bx:o,by:a}};var v=n(28);const y=(e,t)=>{if("undefined"===typeof e.id)throw new Error("Object is missing property 'id' required for key.");return e.id+"_"+t},b=(e,t)=>e-t,_=(e,t)=>e===t,w=(e,t)=>e>=t,x=(e,t=1,n=!1)=>n?k(e):E(e,t),E=(e,t)=>{for(let u=0;u<t;u+=1){var n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){const e=a.value,t=(e.delta||b)(e.a[e.key],e.b[e.key],e),n=(e.distance||c)(e.a[e.key],e.b[e.key],e),r=e.target(e.a[e.key],e.b[e.key],e,t,n);if(!(e.operator||_)(n,r,t)){const n=(e.strength?e.strength(e):1)*(t-r);let o=e.weightA?e.weightA(e):1,a=e.weightB?e.weightB(e):1;o/=o+a,a=1-o,e.a[e.key]-=o*n,e.b[e.key]+=a*n}}}catch(s){r=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}},k=e=>{const t=new v.c,n={};var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){const e=i.value;n[y(e.a,e.key)]=new v.e,n[y(e.b,e.key)]=new v.e}}catch(E){o=!0,a=E}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}var c,u=!0,l=!1,d=void 0;try{for(var p,f=e[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){const e=p.value,r=n[y(e.a,e.key)].minus(n[y(e.b,e.key)]);e.constraint=new v.a(r,(c=e.operator||_)===_?v.b.Eq:c===w?v.b.Ge:void 0,e.target(),!0===e.required?v.d.required:v.d.strong),t.addConstraint(e.constraint)}}catch(E){l=!0,d=E}finally{try{u||null==f.return||f.return()}finally{if(l)throw d}}t.updateVariables();var h=!0,g=!1,m=void 0;try{for(var b,x=e[Symbol.iterator]();!(h=(b=x.next()).done);h=!0){const e=b.value;e.a[e.key]=n[y(e.a,e.key)].value(),e.b[e.key]=n[y(e.b,e.key)].value()}}catch(E){g=!0,m=E}finally{try{h||null==x.return||x.return()}finally{if(g)throw m}}},O=(e,t,n)=>{const r=j(e);let o=0;for(let p=0;p<r.length;p+=1){const e=r[p];o+=s(e*n,Math.round(.25*n));var a=!0,i=!1,c=void 0;try{for(var u,l=t[p+1][Symbol.iterator]();!(a=(u=l.next()).done);a=!0){u.value.y+=o}}catch(d){i=!0,c=d}finally{try{a||null==l.return||l.return()}finally{if(i)throw c}}}},j=e=>{const t={};var n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){const e=a.value,n=Math.abs(u(e.targetNode,e.sourceNode)-i)/i,r=e.sourceNode.row,o=e.targetNode.row-1;t[r]=t[r]||[0,0],t[r][0]+=n,t[r][1]+=1,o!==r&&(t[o]=t[o]||[0,0],t[o][0]+=n,t[o][1]+=1)}}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}for(const i in t)t[i]=t[i][0]/(t[i][1]||1);return Object.values(t)},N={layout:{spaceX:16,spaceY:110,layerSpaceY:55,basisX:1500,padding:100,iterations:20},routing:{spaceX:26,spaceY:28,minPassageGap:40,stemUnit:8,stemMinSource:5,stemMinTarget:5,stemMax:20,stemSpaceSource:6,stemSpaceTarget:10}},S=(e,t,n,o=N)=>{M(e,t),T(e,n),(({nodes:e,edges:t,layers:n,basisX:o,spaceX:a,spaceY:i,layerSpaceY:c,iterations:u})=>{const l=[],d=[],p=[],f=[],m=[],v=[],y=[];var b=!0,E=!1,k=void 0;try{for(var j,N=e[Symbol.iterator]();!(b=(j=N.next()).done);b=!0){const e=j.value;e.x=0,e.y=0}}catch(Y){E=!0,k=Y}finally{try{b||null==N.return||N.return()}finally{if(E)throw k}}const S=t.map(e=>({a:e.targetNode,b:e.sourceNode,key:"y",operator:w,target:()=>i,weightA:()=>0,weightB:()=>1,required:!0}));if(n){const t=Object.values(n),r=.5*(i+c);let o=e.filter(e=>e.nearestLayer===t[0]);for(let n=0;n<t.length-1;n+=1){const a=t[n],i=t[n+1],s=e.filter(e=>e.nearestLayer===i),c={id:a,x:0,y:0};var M=!0,T=!1,I=void 0;try{for(var L,A=o[Symbol.iterator]();!(M=(L=A.next()).done);M=!0){const e=L.value;l.push({a:c,b:e,key:"y",operator:w,target:()=>r,weightA:()=>0,weightB:()=>1})}}catch(Y){T=!0,I=Y}finally{try{M||null==A.return||A.return()}finally{if(T)throw I}}var C=!0,R=!1,D=void 0;try{for(var z,P=s[Symbol.iterator]();!(C=(z=P.next()).done);C=!0){const e=z.value;l.push({a:e,b:c,key:"y",operator:w,target:()=>r,weightA:()=>0,weightB:()=>1})}}catch(Y){R=!0,D=Y}finally{try{C||null==P.return||P.return()}finally{if(R)throw D}}o=s}}x([...S,...l],1,!0);const G=h(e),B={basisX:o,key:"x",operator:(e,t,n)=>t>=0?n>=t:n<=t,target:(e,t,n)=>n.edgeA.sourceNode.x-n.edgeB.sourceNode.x+(n.edgeA.targetNode.x-n.edgeB.targetNode.x)<0?-n.basisX:n.basisX,strength:e=>1/e.basisX,weightA:()=>.5,weightB:()=>.5};for(let s=0;s<t.length;s+=1){const e=t[s];for(let n=s+1;n<t.length;n+=1){const o=t[n];e.source!==o.source&&d.push(Object(r.a)(Object(r.a)({},B),{},{a:e.sourceNode,b:o.sourceNode,edgeA:e,edgeB:o})),e.target!==o.target&&d.push(Object(r.a)(Object(r.a)({},B),{},{a:e.targetNode,b:o.targetNode,edgeA:e,edgeB:o}))}}var U=!0,F=!1,V=void 0;try{for(var q,W=t[Symbol.iterator]();!(U=(q=W.next()).done);U=!0){const e=q.value,t={a:e.sourceNode,b:e.targetNode,key:"x",operator:_,target:()=>0,strength:e=>1/Math.max(1,.5*(e.a.targets.length+e.b.sources.length)),weightA:()=>.5,weightB:()=>.5};p.push(t);const n=1===e.sourceNode.targets.length,r=1===e.targetNode.sources.length;(n||r)&&f.push(t),n&&r&&m.push(t)}}catch(Y){F=!0,V=Y}finally{try{U||null==W.return||W.return()}finally{if(F)throw V}}const H=Math.ceil(.5*u);for(let r=0;r<u;r+=1){x(d,1),x(p,1),x(f,H),x(m,H),v.length=0;for(let e=0;e<G.length;e+=1){const t=G[e];t.sort((e,t)=>g(e.x,t.x,e.id,t.id));for(let e=0;e<t.length-1;e+=1)v.push({a:t[e],b:t[e+1],key:"x",operator:(e,t,n)=>n<=t,target:(e,t,n)=>-a-.5*n.a.width-.5*n.b.width,strength:()=>1,weightA:()=>.5,weightB:()=>.5})}x(v,H)}for(let r=0;r<G.length;r+=1){const e=G[r];for(let t=0;t<e.length-1;t+=1){const n=.8*(e[t+1].x-e[t].x),r=.5*e[t].width+a+.5*e[t+1].width,o=Math.max(s(n,a),r);y.push({a:e[t+1],b:e[t],key:"x",operator:w,target:()=>o,weightA:()=>0,weightB:()=>1,required:!0})}}x([...y,...p],1,!0),O(t,G,i)})(Object(r.a)({nodes:e,edges:t,layers:n},o.layout)),(({nodes:e,edges:t,spaceX:n,spaceY:o,minPassageGap:a,stemUnit:i,stemMinSource:s,stemMinTarget:v,stemMax:y,stemSpaceSource:b,stemSpaceTarget:_})=>{const w=h(e);var x=!0,E=!1,k=void 0;try{for(var O,j=e[Symbol.iterator]();!(x=(O=j.next()).done);x=!0){O.value.targets.sort((e,t)=>g(u(t.sourceNode,t.targetNode),u(e.sourceNode,e.targetNode)))}}catch(q){E=!0,k=q}finally{try{x||null==j.return||j.return()}finally{if(E)throw k}}var N=!0,S=!1,M=void 0;try{for(var T,I=t[Symbol.iterator]();!(N=(T=I.next()).done);N=!0){const e=T.value,t=e.sourceNode,i=e.targetNode;e.points=[];const s=Math.min((t.width-b)/t.targets.length,b),u=s*(t.targets.indexOf(e)-.5*(t.targets.length-1));let f={x:t.x+u,y:t.y};for(let h=t.row+1;h<i.row;h+=1){const t=w[h][0];let i={x:l(t)-n,y:t.y},s=1/0;const g=[Object(r.a)(Object(r.a)({},t),{},{x:Number.MIN_SAFE_INTEGER}),...w[h],Object(r.a)(Object(r.a)({},t),{},{x:Number.MAX_SAFE_INTEGER})];for(let e=0;e<g.length-1;e+=1){const t=g[e],r=g[e+1],u=l(r)-d(t);if(u<a)continue;const h=Math.min(n,.5*u),v=m(f.x,f.y,d(t)+h,p(t)-o,l(r)-h,p(r)-o),y=c(f.x,v.x);if(y>s)break;y<s&&(s=y,i=v)}const v=t.height+o;e.points.push({x:i.x+u,y:i.y}),e.points.push({x:i.x+u,y:i.y+v}),f={x:i.x,y:i.y+v}}}}catch(q){S=!0,M=q}finally{try{N||null==I.return||I.return()}finally{if(S)throw M}}var L=!0,A=!1,C=void 0;try{for(var R,D=e[Symbol.iterator]();!(L=(R=D.next()).done);L=!0){const e=R.value;e.targets.sort((e,t)=>g(u(t.sourceNode,t.points[0]||t.targetNode),u(e.sourceNode,e.points[0]||e.targetNode))),e.sources.sort((e,t)=>g(u(e.points[e.points.length-1]||e.sourceNode,e.targetNode),u(t.points[t.points.length-1]||t.sourceNode,t.targetNode)))}}catch(q){A=!0,C=q}finally{try{L||null==D.return||D.return()}finally{if(A)throw C}}var z=!0,P=!1,G=void 0;try{for(var B,U=t[Symbol.iterator]();!(z=(B=U.next()).done);z=!0){const e=B.value,t=e.sourceNode,n=e.targetNode,r=Math.min((t.width-b)/t.targets.length,b),o=Math.min((n.width-_)/n.sources.length,_),a=t.targets.indexOf(e)-.5*(t.targets.length-1),c=n.sources.indexOf(e)-.5*(n.sources.length-1),u=r*a,l=o*c,d=i*t.targets.length*(1-Math.abs(a)/t.targets.length),h=i*n.sources.length*(1-Math.abs(c)/n.sources.length),g=[{x:t.x+u,y:f(t)},{x:t.x+u,y:f(t)+s},{x:t.x+u,y:f(t)+s+Math.min(d,y)}],m=[{x:n.x+l,y:p(n)-v-Math.min(h,y)},{x:n.x+l,y:p(n)-v},{x:n.x+l,y:p(n)}],w=[...g,...e.points,...m];let x=w[0].y;for(var F=0,V=w;F<V.length;F++){const e=V[F];e.y<x?e.y=x:x=e.y}e.points=w}}catch(q){P=!0,G=q}finally{try{z||null==U.return||U.return()}finally{if(P)throw G}}})(Object(r.a)({nodes:e,edges:t,layers:n},o.routing));const a=D(e,o.layout.padding);return e.forEach(e=>((e,t)=>(e.x=e.x-t.x,e.y=e.y-t.y,e.order=e.x+9999*e.y,e))(e,a.min)),t.forEach(e=>((e,t)=>(e.points.forEach(e=>{e.x=e.x-t.x,e.y=e.y-t.y}),e))(e,a.min)),{nodes:e,edges:t,layers:n,size:a}},M=(e,t)=>{const n={};var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){const e=i.value;n[e.id]=e,e.targets=[],e.sources=[]}}catch(f){o=!0,a=f}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}var c=!0,u=!1,l=void 0;try{for(var d,p=t[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){const e=d.value;e.sourceNode=n[e.source],e.targetNode=n[e.target],e.sourceNode.targets.push(e),e.targetNode.sources.push(e)}}catch(f){u=!0,l=f}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}},T=(e,t)=>{if(t&&t.length>0){const u=t.reduce((e,t)=>Object(r.a)(Object(r.a)({},e),{},{[t]:!0}),{}),l=e=>Boolean(u[e.layer]);var n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){const e=i.value,t=R(e,I,C,l);e.nearestLayer=t&&t.layer}}catch(c){o=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}}},I=e=>L(e).concat(A(e)),L=e=>e.targets.map(e=>e.targetNode),A=e=>e.sources.map(e=>e.sourceNode),C=(e,t)=>Math.abs(e.rank-t.rank),R=(e,t,n,r,o)=>{if(r(e))return e;(o=o||{})[e.id]=!0;const a=t(e).filter(e=>!o[e.id]).sort((t,r)=>n(e,t)-n(e,r));return a.filter(r)[0]||a.map(e=>R(e,t,n,r,o))[0]},D=(e,t)=>{const n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}};var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){const e=i.value,t=e.x,r=e.y;t<n.min.x&&(n.min.x=t),t>n.max.x&&(n.max.x=t),r<n.min.y&&(n.min.y=r),r>n.max.y&&(n.max.y=r)}}catch(c){o=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n.width=n.max.x-n.min.x+2*t,n.height=n.max.y-n.min.y+2*t,n.min.x-=t,n.min.y-=t,n},z=({nodes:e,edges:t,layers:n})=>{const o=S(e,t,n);return Object(r.a)(Object(r.a)({},o),{},{size:Object(r.a)(Object(r.a)({},o.size),{},{marginx:100,marginy:100}),oldgraph:!1})},P=({nodes:e,edges:t,layers:n})=>{const o=Boolean(n.length),i=(new a.a.graphlib.Graph).setGraph({ranker:o?"none":null,ranksep:o?200:70,marginx:40,marginy:40});return e.forEach(e=>{i.setNode(e.id,e)}),t.forEach(e=>{i.setEdge(e.source,e.target,e)}),a.a.layout(i),{nodes:i.nodes().map(e=>{const t=i.node(e);return Object(r.a)(Object(r.a)({},t),{},{order:t.x+9999*t.y})}),edges:i.edges().map(e=>i.edge(e)),size:i.graph(),oldgraph:!0}}},96:function(e,t,n){}},[[275,1,2]]]);
//# sourceMappingURL=main.12d4a066.chunk.js.map